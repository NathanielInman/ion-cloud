!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ion",[],t):"object"==typeof exports?exports.ion=t():e.ion=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=t.Ion=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.viewport=n,this.collection=[],this.clearFrame=!0,this.quantity=1,this.size=1,this.startX=0,this.startY=0,this.endX=1,this.endY=1,this.windX=0,this.windY=0,this.color="#48F",this.clearColor="#000",this.tweenType=0,this.tweenCurrent=0,this.tweenDuration=1e3,this.tweenSpeed=1,this.ctx||console.warn("Ion initialized without canvas context."),this.viewport||console.warn("Ion initialized without viewport variable.")}return r(e,[{key:"tween",value:function(e,t,n,r,i){var o=void 0,a=i||e.tweenCurrent,s=e.tweenDuration,u=n||.3,c=r||e.tweenType,l=void 0,f=void 0;if("x"===t?(l=e.startX,f=e.endX-e.startX):(l=e.startY,f=e.endY-e.startY),0===c||"linear"===c)o=f*a/s+l;else if(1===c||"ease-in-quad"===c)o=f*(a/=s)*a+l;else if(2===c||"ease-out-quad"===c)o=-f*(a/=s)*(a-2)+l;else if(3===c||"ease-in-out-quad"===c)o=(a/=s/2)<1?f/2*a*a+l:-f/2*(--a*(a-2)-1)+l;else if(4===c||"ease-in-cubic"===c)o=f*(a/=s)*a*a+l;else if(5===c||"ease-out-cubic"===c)o=f*((a=a/s-1)*a*a+1)+l;else if(6===c||"ease-in-out-cubic"===c)o=(a/=s/2)<1?f/2*a*a*a+l:f/2*((a-=2)*a*a+2)+l;else if(7===c||"ease-in-quart"===c)o=f*(a/=s)*a*a*a+l;else if(8===c||"ease-out-quart"===c)o=-f*((a=a/s-1)*a*a*a-1)+l;else if(9===c||"ease-in-out-quart"===c)o=(a/=s/2)<1?f/2*a*a*a*a+l:-f/2*((a-=2)*a*a*a-2)+l;else if(10===c||"ease-in-quint"===c)o=f*(a/=s)*a*a*a*a+l;else if(11===c||"ease-out-quint"===c)o=f*((a=a/s-1)*a*a*a*a+1)+l;else if(12===c||"ease-in-out-quint"===c)o=(a/=s/2)<1?f/2*a*a*a*a*a+l:f/2*((a-=2)*a*a*a*a+2)+l;else if(13===c||"ease-in-sine"===c)o=-f*Math.cos(a/s*(Math.PI/2))+f+l;else if(14===c||"ease-out-sine"===c)o=-f/2*(Math.cos(Math.PI*a/s)-1)+l;else if(15===c||"ease-in-exponential"===c)o=0===a?l:f*Math.pow(2,10*(a/s-1))+l;else if(16===c||"ease-out-exponential"===c)o=a===s?l+f:f*(1-Math.pow(2,-10*a/s))+l;else if(17===c||"ease-in-out-exponential"===c)o=0===a?l:a===s?l+f:(a/=s/2)<1?f/2*Math.pow(2,10*(a-1))+l:f/2*(Math.pow(2,-10*--a)+2)+l;else if(18===c||"ease-in-circular"===c)o=-f*(Math.sqrt(1-(a/=s)*a)-1)+l;else if(19===c||"ease-out-circular"===c)o=f*Math.sqrt(1-(a=a/s-1)*a)+l;else if(20===c||"ease-in-out-circular"===c)o=(a/=s/2)<1?-f/2*(Math.sqrt(1-a*a)-1)+l:f/2*(Math.sqrt(1-(a-=2)*a)+1)+l;else if(21===c||"ease-in-elastic-loose"===c)o=this.tween(e,t,.5,"ease-in-elastic-normal");else if(22===c||"ease-in-elastic-normal"===c)o=function(){var e=1.70158,t=0,n=f;return 0===a?l:1==(a/=s)?l+f:(t||(t=s*u),n<Math.abs(f+.1)?(n=f,e=t/4):e=t/(2*Math.PI)*Math.asin(f/n),-n*Math.pow(2,10*(a-=1))*Math.sin((a*s-e)*(2*Math.PI)/t)+l)}();else if(23===c||"ease-in-elastic-string"===c)o=this.tween(e,t,.1,"ease-in-elastic-normal");else if(24===c||"ease-out-elastic-loose"===c)o=this.tween(e,t,.5,"ease-out-elastic-normal");else if(25===c||"ease-out-elastic-normal"===c)o=function(){var e=1.70158,t=0,n=f;return 0===a?l:1==(a/=s)?l+f:(t||(t=s*u),n<Math.abs(f+.1)?(n=f,e=t/4):e=t/(2*Math.PI)*Math.asin(f/n),n*Math.pow(2,-10*a)*Math.sin((a*s-e)*(2*Math.PI)/t)+f+l)}();else if(26===c||"ease-out-elastic-strong"===c)o=this.tween(e,t,.1,"ease-out-elastic-normal");else if(27===c||"ease-in-out-elastic-loose"===c)o=this.tween(e,t,.5,"ease-in-out-elastic-normal");else if(28===c||"ease-in-out-elastic-normal"===c)o=function(){var e=1.70158,t=0,n=f;return 0===a?l:2==(a/=s/2)?l+f:(t||(t=s*(1.5*u)),n<Math.abs(f+.1)?(n=f,e=t/4):e=t/(2*Math.PI)*Math.asin(f/n),a<1?n*Math.pow(2,10*(a-=1))*Math.sin((a*s-e)*(2*Math.PI)/t)*-.5+l:n*Math.pow(2,-10*(a-=1))*Math.sin((a*s-e)*(2*Math.PI)/t)*.5+f+l)}();else if(29===c||"ease-in-out-elastic-strong"===c)o=this.tween(e,t,.1,"ease-in-out-elastic-normal");else if(30===c||"ease-in-back"===c)o=f*(a/=s)*a*(2.70158*a-1.70158)+l;else if(31===c||"ease-out-back"===c)o=f*((a=a/s-1)*a*(2.70158*a+1.70158)+1)+l;else if(32===c||"ease-in-out-back"===c){var h=1.70158;o=(a/=s/2)<1?f/2*(a*a*((1+(h*=1.525))*a-h))+l:f/2*((a-=2)*a*((1+(h*=1.525))*a+h)+2)+l}else 33===c||"ease-in-bounce"===c?o=f-this.tween(e,t,0,"ease-out-bounce")+l:34===c||"ease-out-bounce"===c?o=(a/=s)<1/2.75?f*(7.5625*a*a)+l:a<2/2.75?f*(7.5625*(a-=1.5/2.75)*a+.75)+l:a<2.5/2.75?f*(7.5625*(a-=2.25/2.75)*a+.9375)+l:f*(7.5625*(a-=2.625/2.75)*a+.984375)+l:35!==c&&"ease-in-out-bounce"!==c||(o=a<s/2?.5*this.tween(e,t,0,"ease-in-bounce",2*a)+l:.5*this.tween(e,t,0,"ease-out-bounce",2*a-s)+.5*f+l);return o}},{key:"getNew",value:function(e){var t=this.tweenCurrent,n=this.tweenDuration,r=this.tweenType,i=this.startX,o=this.startY,a=this.endX,s=this.endY,u="function"==typeof i?i():i,c="function"==typeof o?o():o,l="function"==typeof a?a():a,f="function"==typeof s?s():s,h="function"==typeof t?t():t,d="function"==typeof n?n():n,p="function"==typeof r?r():r,y="function"==typeof this.size?this.size():this.size,v="function"==typeof this.image?this.image(e):this.image,b="function"==typeof this.color?this.color(e):this.color,g={};return this.onCreate(),g.id=e,g.startX=u,g.startY=c,g.originX=g.startX,g.originY=g.startY,g.x=u,g.y=c,g.endX=l,g.endY=f,g.terminalX=g.endX,g.terminalY=g.endY,g.tweenCurrent=h,g.tweenDuration=d,g.tweenType=p,g.onEnd=this.onParticleEnd,g.size=y,g.windX=this.windX||0,g.windY=this.windY||0,g.color=b,g.image=v,g.imageWidth=this.imageWidth,g.imageHeight=this.imageHeight,g}},{key:"reset",value:function(e){e.x=e.startX=e.originX,e.y=e.startY=e.originY,e.endX=e.terminalX,e.endY=e.terminalY,e.tweenCurrent=0}},{key:"reevaluate",value:function(e){var t="function"==typeof this.startX?this.startX():this.startX,n="function"==typeof this.startY?this.startY():this.startY,r="function"==typeof this.endX?this.endX():this.endX,i="function"==typeof this.endY?this.endY():this.endY;e.x=e.originX=e.startX=t,e.y=e.originY=e.startY=n,e.endX=e.terminalX=r,e.endY=e.terminalY=i,e.tweenCurrent=0}},{key:"populate",value:function(e){var t=this;e?(this.collection.push(this.getNew(this.collection.length)),this.collection.length<this.quantity&&("function"==typeof e?setTimeout(function(){return t.populate(e)},e()):"number"==typeof e?setTimeout(function(){return t.populate(e)},e):setTimeout(function(){return t.populate()},1))):this.collection=Array.from(new Array(this.quantity),function(e,n){return t.getNew(n)})}},{key:"wind",value:function(e){"function"==typeof e.windX?e.endX+=e.windX(e):e.windX&&(e.endX+=e.windX),"function"==typeof e.windY?e.endY+=e.windY(e):e.windY&&(e.endY+=e.windY),"function"==typeof e.windX?e.startX+=e.windX(e):e.windX&&(e.startX+=e.windX),"function"==typeof e.windY?e.startY+=e.windY(e):e.windY&&(e.startY+=e.windY)}},{key:"onMove",value:function(e){}},{key:"draw",value:function(e,t){var n=this,r=e,i=r.image,o=r.size||1;if(this.ctx.fillStyle=t?this.clearColor:e.color,i&&i instanceof Array&&i.length){var a=r.imageWidth/i[0].length,s=r.imageHeight/i.length;i.forEach(function(e,i){e.forEach(function(e,u){t&&e?n.ctx.fillRect(r.x+u*a-1,r.y+i*s-1,o*a+1,o*s+1):e&&n.ctx.fillRect(r.x+u*a,r.y+i*s,o*a,o*s)})})}else if(i){var u=r.x-r.imageWidth/2,c=r.y-r.imageHeight/2;r.imageWidth&&r.imageHeight?this.ctx.drawImage(i,u,c,r.imageWidth,r.imageHeight):this.ctx.drawImage(i,u,c)}else this.ctx.fillRect(r.x,r.y,o,o)}},{key:"clear",value:function(e){this.draw(e,!0)}},{key:"onCreate",value:function(){}},{key:"onParticleEnd",value:function(){}},{key:"onEscape",value:function(){}},{key:"process",value:function(){var e=this;this.clearFrame(),this.getFrame(),this.afterDraw(),1===this.tweenSpeed?requestAnimationFrame(function(){return e.process()}):setTimeout(function(){return e.process()},this.tweenSpeed)}},{key:"afterDraw",value:function(){}},{key:"clearFrame",value:function(){this.ctx.fillStyle=this.clearColor,this.ctx.fillRect(0,0,this.viewport.width,this.viewport.height)}},{key:"getFrame",value:function(){var e=this;this.collection.forEach(function(t){t.imageClear&&e.clear(t),e.wind(t),e.onMove(t),(t.x<0||t.y<0||t.x>e.viewport.width||t.y>e.viewport.height)&&e.onEscape(t),(0|t.x)!=(0|t.endX)&&(t.x=e.tween(t,"x")),(0|t.y)!=(0|t.endY)&&(t.y=e.tween(t,"y")),t.tweenCurrent++,t.tweenCurrent===t.tweenDuration&&t.onEnd&&t.onEnd.call(e,t),e.draw(t)})}}]),e}();t.default={Ion:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);Object.defineProperty(t,"Ion",{enumerable:!0,get:function(){return r.Ion}});var i=n(2);Object.defineProperty(t,"IonCloud",{enumerable:!0,get:function(){return i.IonCloud}});var o=n(7);Object.defineProperty(t,"Easel",{enumerable:!0,get:function(){return o.Easel}}),Object.defineProperty(t,"Easel3d",{enumerable:!0,get:function(){return o.Easel3d}});var a=n(8);Object.defineProperty(t,"ink",{enumerable:!0,get:function(){return a.ink}}),Object.defineProperty(t,"rgb2hex",{enumerable:!0,get:function(){return a.rgb2hex}}),Object.defineProperty(t,"randomHex",{enumerable:!0,get:function(){return a.randomHex}}),Object.defineProperty(t,"randomRgb",{enumerable:!0,get:function(){return a.randomRgb}}),Object.defineProperty(t,"hex2rgb",{enumerable:!0,get:function(){return a.hex2rgb}}),Object.defineProperty(t,"hex2rgbObject",{enumerable:!0,get:function(){return a.hex2rgbObject}});var s=n(9);Object.defineProperty(t,"Phaser",{enumerable:!0,get:function(){return s.Phaser}});var u=n(10);Object.defineProperty(t,"Dice",{enumerable:!0,get:function(){return u.Dice}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IonCloud=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3));t.IonCloud=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.camera={x:v.w/2,y:v.h/2,dx:0,dy:0},this.collection=[],this.beforeDraw={},this.clouds=i,this.state="initial"}return r(e,[{key:"animate",value:function(e){"string"==typeof e?this.collection.push(this.clouds[e].apply(this,arguments)):this.collection.push(e.apply(this,arguments))}},{key:"makeState",value:function(e,t){this.beforeDraw[e]=t}},{key:"clearScene",value:function(){ctx.fillStyle="#000",ctx.fillRect(0,0,v.w,v.h)}},{key:"draw",value:function(){var e=this;this.clearScene(),this.beforeDraw[this.state]&&this.beforeDraw[this.state](),this.collection.forEach(function(t,n,r){t.states.includes(e.state)&&(t.finished?("function"==typeof t.onFinished&&t.onFinished(),r.splice(n,1)):t.getFrame())}),requestAnimationFrame(function(){return e.draw()})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);Object.defineProperty(t,"flame",{enumerable:!0,get:function(){return r.flame}});var i=n(5);Object.defineProperty(t,"vortex",{enumerable:!0,get:function(){return i.vortex}});var o=n(6);Object.defineProperty(t,"laser",{enumerable:!0,get:function(){return o.laser}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flame=function(e,t){var n=this,o=t.startX,a=t.startY,s=t.width,u=t.height,c=t.color,l=t.quality,f=new i.Ion(2*(l||100));return o=o||0,a=a||0,s=s||20,u=u||100,f.states=["initial"],f.clear=!1,f.color=c||"rgba(250,170,0,0.2)",f.startX=function(){return n.camera.x+o+r(0,s)-s/2},f.startY=function(){return n.camera.y+a},f.endX=function(){return n.camera.x+o},f.endY=function(){return n.camera.y+a-u},f.windX=function(){return r(0,.5)-.25},f.windY=function(){return r(0,2)-2},f.tweenType=function(){return r(10,20,!0)},f.tweenDuration=function(){return r(300,600,!1)},f.onEscape=function(e){this.onEnd(e)},f.onEnd=f.reevaluate,f.onMove=function(e){var t=(u+s)/4;e.tweenCurrent>.15*e.tweenDuration?this.onEnd(e):e.size=t-t/e.tweenDuration*e.tweenCurrent},f.populate(),f};var i=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vortex=function(e,t){var n=this,o=t.startX,a=t.startY,s=t.size,u=t.density,c=t.iterations,l=t.callback,f=new i.Ion(u||200);return o=o||0,a=a||0,s=s||300,c=c||1/0,f.states=["initial"],f.clear=!1,f.color="rgba(200,200,255,0.7)",f.startX=function(){return Math.abs(n.camera.x+r(-1*s/2,s/2)+o)+1},f.startY=function(){return Math.abs(n.camera.y+r(-1*s/2,s/2)+a)+1},f.endX=function(){return n.camera.x+o},f.endY=function(){return n.camera.y+a},f.size=function(){return r(1,5)},f.tweenType="ease-out-circular",f.tweenDuration=function(){return r(100,200,!0)},f.onParticleEnd=function(e){c<50&&c>0?("function"==typeof l&&(l(),l=void 0),c--):c>0?(c--,this.reevaluate(e)):0===c&&(f.finished=!0)},f.onMove=function(e){e.endX=f.endX(),e.endY=f.endY()},f.populate(15),f};var i=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.laser=function(e,t){var n=this,o=t.startX,a=t.startY,s=t.endX,u=t.endY,c=t.size,l=200,f=new i.Ion(1);return o=o||0,a=a||0,s=s||0,u=u||0,c=c||10,f.states=["initial"],f.clear=!1,f.color="rgba(250,250,150,0.5)",f.startX=function(){return n.camera.x+s},f.startY=function(){return n.camera.y+u},f.endX=function(){return n.camera.x+s-c/2+r(c)},f.endY=function(){return n.camera.y+u-c/2+r(c)},f.windX=function(){return r(0,1.5)-.75},f.windY=function(){return r(0,1.5)-.75},f.size=function(){return r(2,4,!0)},f.tweenType=function(){return r(10,15,!0)},f.tweenDuration=function(){return r(100,150,!0)},f.onParticleEnd=function(e){this.collection.splice(e.id,1),this.collection.forEach(function(e,t){return e.id=t})},f.onCreate=function(){return l--},f.populate(),f.draw=function(e){ctx.strokeStyle="rgba(100,100,250,"+5e-4*l+")",ctx.lineWidth=17,l>0&&(ctx.beginPath(),ctx.moveTo(n.camera.x+o+3,n.camera.y+a),ctx.lineTo(n.camera.x+s+3,n.camera.y+u),ctx.stroke(),ctx.strokeStyle="#DDF",ctx.lineWidth=2,ctx.beginPath(),ctx.moveTo(n.camera.x+o+3,n.camera.y+a),ctx.lineTo(n.camera.x+s+3,n.camera.y+u),ctx.stroke())},f};var i=n(0)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t.Easel=function(){function e(t){var n=this;if(r(this,e),!window.CanvasRenderingContext2D)return this.activated=!1,!1;this.activated=!0,this.canvas=document.createElement("canvas"),this.ctx=t?this.canvas.getContext("webgl"):this.canvas.getContext("2d"),this.viewport=this.acquireViewport(),this.randomInteger=function(e,t,n){return e=t?e>t?t+(i=e)-t:e:0*(t=e),n=n||0,t=Math.random()*(t-e)+e,n?0|t:t},window.onresize=function(){n.viewport=n.acquireViewport(),n.resizeCanvas(),n.config(),n.redraw()},this.background="#000",this.started=!1,document.body.appendChild(this.canvas);var i=document.createElement("style");i.type="text/css",i.rel="stylesheet",i.innerHTML="body{background-color:"+this.background+";margin:0;}\n      canvas{position:fixed;left:0;top:0;right:0;bottom:0;}",document.querySelector("head").appendChild(i),this.resizeCanvas()}return i(e,[{key:"resizeCanvas",value:function(){this.canvas.width=this.viewport.w,this.canvas.height=this.viewport.h}},{key:"acquireContext",value:function(){this.ctx=this.canvas.getContext("2d")}},{key:"acquireViewport",value:function(){var e=window,t="inner";return e.innerWidth||(t="client",e=document.documentElement||document.body),{w:e[t+"Width"],h:e[t+"Height"]}}},{key:"redraw",value:function(){this.started||(this.config(),this.started=!0),this.onDraw()}},{key:"config",value:function(){}},{key:"onDraw",value:function(){this.ctx.fillStyle=this.background,this.ctx.fillRect(0,0,this.viewport.width,this.viewport.height)}}]),e}();t.Easel3d=function(e){function t(){return r(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,!0))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),t}()},function(e,t,n){"use strict";function i(e,t){var n=void 0,r=void 0,i=void 0,o={};return 7===e.length?(n=parseInt(e.substr(1,2),16),r=parseInt(e.substr(3,2),16),i=parseInt(e.substr(5,2),16)):4===e.length&&(n=parseInt(e.substr(1,1)+e.substr(1,1),16),r=parseInt(e.substr(2,1)+e.substr(2,1),16),i=parseInt(e.substr(3,1)+e.substr(3,1),16)),t?(o.r=n,o.g=r,o.b=i):o="rgb("+n+","+r+","+i+")",o}function o(e){return i(e,!0)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.ink=function(e,t,n,r){var i=void 0,s=void 0,u=void 0,c=void 0,l=e.includes("#"),f=e.includes("rgb"),h=n||.001,d=r||.999,p=function(){return!h||(i+s+u)/3/255>=h},y=function(){return!d||(i+s+u)/3/255<=d},v=function(){i=i>255?255:i,s=s>255?255:s,u=u>255?255:u};if(f){var b=e.split(/[,()]/g);i=b[1],s=b[2],u=b[3]}if(l){var g=o(e);i=g.r,s=g.g,u=g.b}if(d<h){var m=[h,d];d=m[0],h=m[1]}if(d>=1&&(d=.999),h<=0&&(h=.001),void 0===i||void 0===s||void 0===u)c="rgba(0,0,0,0)";else{for(;!p()||!y();)p()||(i*=1.1,s*=1.1,u*=1.1),y()||(i*=.9,s*=.9,u*=.9);v(),i|=0,s|=0,u|=0,"string"==typeof t||"number"==typeof t?c="rgba("+i+","+s+","+u+","+t+")":"object"===(void 0===t?"undefined":a(t))?(i=parseInt(i*(t.r||1),10),s=parseInt(s*(t.g||1),10),u=parseInt(u*(t.b||1),10),v(),c=t.object?{r:i,g:s,b:u,o:t.o||1}:"rgba("+i+","+s+","+u+","+(t.o||1)+")"):c="rgba(0,0,0,0)"}return c},t.hex2rgb=i,t.hex2rgbObject=o,t.rgb2hex=function(e){var t=e.split(/[,()]/g);return"#"+parseInt(t[1],10).toString(16)+parseInt(t[2],10).toString(16)+parseInt(t[3],10).toString(16)},t.randomHex=function(){for(var e="0123456789abcdef".split(""),t="#",n=0;n<6;n++)t+=e[r(15,0,!0)];return t},t.randomRgb=function(e){var t=t(0,255,!0),n=t(0,255,!0),r=t(0,255,!0);return e?"rgba("+t+","+n+","+r+","+e+")":"rgb("+t+","+n+","+r+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Phaser=function(){function e(t,n,r,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interval=t||100,this.frame=this.interval,this.phase=n,this.context=i,this.properties=o,this.makeGradient=a,this.color=r,this.colorD=[],this.err=0,a||console.error("Error "+ ++this.err+": Gradient missing."),i||console.error("Error "+ ++this.err+": Context missing."),o||console.error("Error "+ ++this.err+": Properties missing."),this.err||this.initialize()}return r(e,[{key:"initialize",value:function(){var e,t,n,r,i,o=this;this.color.forEach(function(a,s){e={},t={r:0,g:0,b:0},r=0,n=0,Object.keys(a).forEach(function(u){var c=a[u],l={r:c.r-t.r,g:c.g-t.g,b:c.b-t.b};if(1===r?(n=l,i=u):r>1&&(e[u]=l),r++,t={r:c.r,g:c.g,b:c.b},u===o.phase){var f=o.color[s].current;f.r=t.r,f.g=t.g,f.b=t.b}}),e[i]={r:n.r-t.r,g:n.g-t.g,b:n.b-t.b},o.colorD.push(e)})}},{key:"getNextPhase",value:function(){var e,t=this,n=0,r="";for(e in this.color[0]){if(n){r=e;break}e===this.phase&&(n=1)}if(0===r.length)for(e in this.color[0])if("current"!==e){r=e;break}return this.color.forEach(function(e,n){e.current.r=e[t.phase].r,e.current.g=e[t.phase].g,e.current.b=e[t.phase].b}),r}},{key:"drawNext",value:function(e){var t=this,n=this.makeGradient();this.color.forEach(function(e,t){var r=e.current;n.addColorStop(t,"rgb("+(0|r.r)+","+(0|r.g)+","+(0|r.b)+")")}),this.context.fillStyle=n,this.context.fillRect.apply(this.context,this.properties()),this.frame===this.interval&&(this.frame=-1,this.phase=this.getNextPhase()),this.color.forEach(function(e,n){var r=e.current,i=t.colorD[n][t.phase];r.r+=i.r/t.interval,r.g+=i.g/t.interval,r.b+=i.b/t.interval}),this.frame++}}]),e}()},function(e,t,n){"use strict";function r(e){return+e.split(/d/g)[0]}function i(e){var t=e.split(/d/g);return t.length>1?t[0]*t[1]:+t[0]}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Dice=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.string=t,this.compileStatements()}return o(e,[{key:"compileStatements",value:function(){var e=this,t=this.string.split(/(\+|\-)/g),n=t.filter(function(e){return!["+","-"].includes(e)}),r=t.filter(function(e){return["+","-"].includes(e)});return this.statements=[],r.unshift("+"),n.forEach(function(t,i){e.statements.push({operator:r[i],operation:n[i]})}),this.statements}},{key:"randomInteger",value:function(e,t){return Math.floor(Math.random()*(t-e))+e}},{key:"roll",value:function(){var e=this,t=0;return this.statements.forEach(function(n){var o=r(n.operation),a=i(n.operation);"+"===n.operator?t+=e.randomInteger(o,a):t-=e.randomInteger(o,a)}),t}},{key:"min",get:function(){var e=0;return this.statements.forEach(function(t){"+"===t.operator?e+=r(t.operation):e-=r(t.operation)}),e}},{key:"max",get:function(){var e=0;return this.statements.forEach(function(t){"+"===t.operator?e+=i(t.operation):e-=i(t.operation)}),e}}]),e}()}])});