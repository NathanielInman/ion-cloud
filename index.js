!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ion",[],t):"object"==typeof exports?exports.ion=t():e.ion=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=t.Ion=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.viewport=n,this.collection=[],this.clearFrame=!0,this.quantity=1,this.size=1,this.startX=0,this.startY=0,this.endX=1,this.endY=1,this.windX=0,this.windY=0,this.color="#48F",this.clearColor="#000",this.tweenType=0,this.tweenCurrent=0,this.tweenDuration=1e3,this.tweenSpeed=1,this.ctx||console.warn("Ion initialized without canvas context."),this.viewport||console.warn("Ion initialized without viewport variable.")}return r(e,[{key:"tween",value:function(e,t,n,r,i){var a=void 0,o=i||e.tweenCurrent,s=e.tweenDuration,u=n||.3,l=r||e.tweenType,c=void 0,h=void 0;if("x"===t?(c=e.startX,h=e.endX-e.startX):(c=e.startY,h=e.endY-e.startY),0===l||"linear"===l)a=h*o/s+c;else if(1===l||"ease-in-quad"===l)a=h*(o/=s)*o+c;else if(2===l||"ease-out-quad"===l)a=-h*(o/=s)*(o-2)+c;else if(3===l||"ease-in-out-quad"===l)a=(o/=s/2)<1?h/2*o*o+c:-h/2*(--o*(o-2)-1)+c;else if(4===l||"ease-in-cubic"===l)a=h*(o/=s)*o*o+c;else if(5===l||"ease-out-cubic"===l)a=h*((o=o/s-1)*o*o+1)+c;else if(6===l||"ease-in-out-cubic"===l)a=(o/=s/2)<1?h/2*o*o*o+c:h/2*((o-=2)*o*o+2)+c;else if(7===l||"ease-in-quart"===l)a=h*(o/=s)*o*o*o+c;else if(8===l||"ease-out-quart"===l)a=-h*((o=o/s-1)*o*o*o-1)+c;else if(9===l||"ease-in-out-quart"===l)a=(o/=s/2)<1?h/2*o*o*o*o+c:-h/2*((o-=2)*o*o*o-2)+c;else if(10===l||"ease-in-quint"===l)a=h*(o/=s)*o*o*o*o+c;else if(11===l||"ease-out-quint"===l)a=h*((o=o/s-1)*o*o*o*o+1)+c;else if(12===l||"ease-in-out-quint"===l)a=(o/=s/2)<1?h/2*o*o*o*o*o+c:h/2*((o-=2)*o*o*o*o+2)+c;else if(13===l||"ease-in-sine"===l)a=-h*Math.cos(o/s*(Math.PI/2))+h+c;else if(14===l||"ease-out-sine"===l)a=-h/2*(Math.cos(Math.PI*o/s)-1)+c;else if(15===l||"ease-in-exponential"===l)a=0===o?c:h*Math.pow(2,10*(o/s-1))+c;else if(16===l||"ease-out-exponential"===l)a=o===s?c+h:h*(1-Math.pow(2,-10*o/s))+c;else if(17===l||"ease-in-out-exponential"===l)a=0===o?c:o===s?c+h:(o/=s/2)<1?h/2*Math.pow(2,10*(o-1))+c:h/2*(Math.pow(2,-10*--o)+2)+c;else if(18===l||"ease-in-circular"===l)a=-h*(Math.sqrt(1-(o/=s)*o)-1)+c;else if(19===l||"ease-out-circular"===l)a=h*Math.sqrt(1-(o=o/s-1)*o)+c;else if(20===l||"ease-in-out-circular"===l)a=(o/=s/2)<1?-h/2*(Math.sqrt(1-o*o)-1)+c:h/2*(Math.sqrt(1-(o-=2)*o)+1)+c;else if(21===l||"ease-in-elastic-loose"===l)a=this.tween(e,t,.5,"ease-in-elastic-normal");else if(22===l||"ease-in-elastic-normal"===l)a=function(){var e=1.70158,t=0,n=h;return 0===o?c:1==(o/=s)?c+h:(t||(t=s*u),n<Math.abs(h+.1)?(n=h,e=t/4):e=t/(2*Math.PI)*Math.asin(h/n),-n*Math.pow(2,10*(o-=1))*Math.sin((o*s-e)*(2*Math.PI)/t)+c)}();else if(23===l||"ease-in-elastic-string"===l)a=this.tween(e,t,.1,"ease-in-elastic-normal");else if(24===l||"ease-out-elastic-loose"===l)a=this.tween(e,t,.5,"ease-out-elastic-normal");else if(25===l||"ease-out-elastic-normal"===l)a=function(){var e=1.70158,t=0,n=h;return 0===o?c:1==(o/=s)?c+h:(t||(t=s*u),n<Math.abs(h+.1)?(n=h,e=t/4):e=t/(2*Math.PI)*Math.asin(h/n),n*Math.pow(2,-10*o)*Math.sin((o*s-e)*(2*Math.PI)/t)+h+c)}();else if(26===l||"ease-out-elastic-strong"===l)a=this.tween(e,t,.1,"ease-out-elastic-normal");else if(27===l||"ease-in-out-elastic-loose"===l)a=this.tween(e,t,.5,"ease-in-out-elastic-normal");else if(28===l||"ease-in-out-elastic-normal"===l)a=function(){var e=1.70158,t=0,n=h;return 0===o?c:2==(o/=s/2)?c+h:(t||(t=s*(1.5*u)),n<Math.abs(h+.1)?(n=h,e=t/4):e=t/(2*Math.PI)*Math.asin(h/n),o<1?n*Math.pow(2,10*(o-=1))*Math.sin((o*s-e)*(2*Math.PI)/t)*-.5+c:n*Math.pow(2,-10*(o-=1))*Math.sin((o*s-e)*(2*Math.PI)/t)*.5+h+c)}();else if(29===l||"ease-in-out-elastic-strong"===l)a=this.tween(e,t,.1,"ease-in-out-elastic-normal");else if(30===l||"ease-in-back"===l)a=h*(o/=s)*o*(2.70158*o-1.70158)+c;else if(31===l||"ease-out-back"===l)a=h*((o=o/s-1)*o*(2.70158*o+1.70158)+1)+c;else if(32===l||"ease-in-out-back"===l){var f=1.70158;a=(o/=s/2)<1?h/2*(o*o*((1+(f*=1.525))*o-f))+c:h/2*((o-=2)*o*((1+(f*=1.525))*o+f)+2)+c}else 33===l||"ease-in-bounce"===l?a=h-this.tween(e,t,0,"ease-out-bounce")+c:34===l||"ease-out-bounce"===l?a=(o/=s)<1/2.75?h*(7.5625*o*o)+c:o<2/2.75?h*(7.5625*(o-=1.5/2.75)*o+.75)+c:o<2.5/2.75?h*(7.5625*(o-=2.25/2.75)*o+.9375)+c:h*(7.5625*(o-=2.625/2.75)*o+.984375)+c:35!==l&&"ease-in-out-bounce"!==l||(a=o<s/2?.5*this.tween(e,t,0,"ease-in-bounce",2*o)+c:.5*this.tween(e,t,0,"ease-out-bounce",2*o-s)+.5*h+c);return a}},{key:"getNew",value:function(e){var t=this.tweenCurrent,n=this.tweenDuration,r=this.tweenType,i=this.startX,a=this.startY,o=this.endX,s=this.endY,u="function"==typeof i?i():i,l="function"==typeof a?a():a,c="function"==typeof o?o():o,h="function"==typeof s?s():s,f="function"==typeof t?t():t,g="function"==typeof n?n():n,v="function"==typeof r?r():r,d="function"==typeof this.size?this.size():this.size,b="function"==typeof this.image?this.image(e):this.image,w="function"==typeof this.color?this.color(e):this.color,m={};return this.onCreate(),m.id=e,m.startX=u,m.startY=l,m.originX=m.startX,m.originY=m.startY,m.x=u,m.y=l,m.endX=c,m.endY=h,m.terminalX=m.endX,m.terminalY=m.endY,m.tweenCurrent=f,m.tweenDuration=g,m.tweenType=v,m.onEnd=this.onParticleEnd,m.size=d,m.windX=this.windX||0,m.windY=this.windY||0,m.color=w,m.image=b,m.imageWidth=this.imageWidth,m.imageHeight=this.imageHeight,m}},{key:"reset",value:function(e){e.x=e.startX=e.originX,e.y=e.startY=e.originY,e.endX=e.terminalX,e.endY=e.terminalY,e.tweenCurrent=0}},{key:"reevaluate",value:function(e){var t="function"==typeof this.startX?this.startX():this.startX,n="function"==typeof this.startY?this.startY():this.startY,r="function"==typeof this.endX?this.endX():this.endX,i="function"==typeof this.endY?this.endY():this.endY;e.x=e.originX=e.startX=t,e.y=e.originY=e.startY=n,e.endX=e.terminalX=r,e.endY=e.terminalY=i,e.tweenCurrent=0}},{key:"populate",value:function(e){var t=this;e?(this.collection.push(this.getNew(this.collection.length)),this.collection.length<this.quantity&&("function"==typeof e?setTimeout(function(){return t.populate(e)},e()):"number"==typeof e?setTimeout(function(){return t.populate(e)},e):setTimeout(function(){return t.populate()},1))):this.collection=Array.from(new Array(this.quantity),function(e,n){return t.getNew(n)})}},{key:"wind",value:function(e){"function"==typeof e.windX?e.endX+=e.windX(e):e.windX&&(e.endX+=e.windX),"function"==typeof e.windY?e.endY+=e.windY(e):e.windY&&(e.endY+=e.windY),"function"==typeof e.windX?e.startX+=e.windX(e):e.windX&&(e.startX+=e.windX),"function"==typeof e.windY?e.startY+=e.windY(e):e.windY&&(e.startY+=e.windY)}},{key:"onMove",value:function(e){}},{key:"draw",value:function(e,t){var n=this,r=e,i=r.image,a=r.size||1;if(this.ctx.fillStyle=t?this.clearColor:e.color,i&&i instanceof Array&&i.length){var o=r.imageWidth/i[0].length,s=r.imageHeight/i.length;i.forEach(function(e,i){e.forEach(function(e,u){t&&e?n.ctx.fillRect(r.x+u*o-1,r.y+i*s-1,a*o+1,a*s+1):e&&n.ctx.fillRect(r.x+u*o,r.y+i*s,a*o,a*s)})})}else if(i){var u=r.x-r.imageWidth/2,l=r.y-r.imageHeight/2;r.imageWidth&&r.imageHeight?this.ctx.drawImage(i,u,l,r.imageWidth,r.imageHeight):this.ctx.drawImage(i,u,l)}else this.ctx.fillRect(r.x,r.y,a,a)}},{key:"clear",value:function(e){this.draw(e,!0)}},{key:"onCreate",value:function(){}},{key:"onParticleEnd",value:function(){}},{key:"onEscape",value:function(){}},{key:"process",value:function(){var e=this;this.clearFrame(),this.getFrame(),this.afterDraw(),1===this.tweenSpeed?requestAnimationFrame(function(){return e.process()}):setTimeout(function(){return e.process()},this.tweenSpeed)}},{key:"afterDraw",value:function(){}},{key:"clearFrame",value:function(){this.ctx.fillStyle=this.clearColor,this.ctx.fillRect(0,0,this.viewport.width,this.viewport.height)}},{key:"getFrame",value:function(){var e=this;this.collection.forEach(function(t){t.imageClear&&e.clear(t),e.wind(t),e.onMove(t),(t.x<0||t.y<0||t.x>e.viewport.width||t.y>e.viewport.height)&&e.onEscape(t),(0|t.x)!=(0|t.endX)&&(t.x=e.tween(t,"x")),(0|t.y)!=(0|t.endY)&&(t.y=e.tween(t,"y")),t.tweenCurrent++,t.tweenCurrent===t.tweenDuration&&t.onEnd&&t.onEnd.call(e,t),e.draw(t)})}}]),e}();t.default={Ion:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return+e.split(/d/g)[0]}function a(e){var t=e.split(/d/g);return t.length>1?t[0]*t[1]:+t[0]}t.Dice=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.string=t,this.compileStatements()}return r(e,[{key:"compileStatements",value:function(){var e=this,t=this.string.split(/(\+|\-)/g),n=t.filter(function(e){return!["+","-"].includes(e)}),r=t.filter(function(e){return["+","-"].includes(e)});return this.statements=[],r.unshift("+"),n.forEach(function(t,i){e.statements.push({operator:r[i],operation:n[i]})}),this.statements}},{key:"randomInteger",value:function(e,t){return Math.floor(Math.random()*(t-e))+e}},{key:"roll",value:function(){var e=this,t=0;return this.statements.forEach(function(n){var r=i(n.operation),o=a(n.operation);"+"===n.operator?t+=e.randomInteger(r,o):t-=e.randomInteger(r,o)}),t}},{key:"min",get:function(){var e=0;return this.statements.forEach(function(t){"+"===t.operator?e+=i(t.operation):e-=i(t.operation)}),e}},{key:"max",get:function(){var e=0;return this.statements.forEach(function(t){"+"===t.operator?e+=a(t.operation):e-=a(t.operation)}),e}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Phaser=function(){function e(t,n,r,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interval=t||100,this.frame=this.interval,this.phase=n,this.context=i,this.properties=a,this.makeGradient=o,this.color=r,this.colorD=[],this.err=0,o||console.error("Error "+ ++this.err+": Gradient missing."),i||console.error("Error "+ ++this.err+": Context missing."),a||console.error("Error "+ ++this.err+": Properties missing."),this.err||this.initialize()}return r(e,[{key:"initialize",value:function(){var e,t,n,r,i,a=this;this.color.forEach(function(o,s){e={},t={r:0,g:0,b:0},r=0,n=0,Object.keys(o).forEach(function(u){var l=o[u],c={r:l.r-t.r,g:l.g-t.g,b:l.b-t.b};if(1===r?(n=c,i=u):r>1&&(e[u]=c),r++,t={r:l.r,g:l.g,b:l.b},u===a.phase){var h=a.color[s].current;h.r=t.r,h.g=t.g,h.b=t.b}}),e[i]={r:n.r-t.r,g:n.g-t.g,b:n.b-t.b},a.colorD.push(e)})}},{key:"getNextPhase",value:function(){var e,t=this,n=0,r="";for(e in this.color[0]){if(n){r=e;break}e===this.phase&&(n=1)}if(0===r.length)for(e in this.color[0])if("current"!==e){r=e;break}return this.color.forEach(function(e,n){e.current.r=e[t.phase].r,e.current.g=e[t.phase].g,e.current.b=e[t.phase].b}),r}},{key:"drawNext",value:function(e){var t=this,n=this.makeGradient();this.color.forEach(function(e,t){var r=e.current;n.addColorStop(t,"rgb("+(0|r.r)+","+(0|r.g)+","+(0|r.b)+")")}),this.context.fillStyle=n,this.context.fillRect.apply(this.context,this.properties()),this.frame===this.interval&&(this.frame=-1,this.phase=this.getNextPhase()),this.color.forEach(function(e,n){var r=e.current,i=t.colorD[n][t.phase];r.r+=i.r/t.interval,r.g+=i.g/t.interval,r.b+=i.b/t.interval}),this.frame++}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function a(e){var t="invalid";if(e.includes("rgba"))t=function(e){var t=e.replace(/(\(|\)|rgba)/g,"").split(","),n=r(t,4),i=n[0],a=n[1],o=n[2],s=n[3];if(i=+i,isNaN(+i)||"number"!=typeof i)throw Error("[Ink] Red rgba value is not a valid number.");if(i<0&&(console.warn("[Ink] Red rgba value was less than 0."),console.warn("[Ink] Converting red value to 0..."),i=0),i>255&&(console.warn("[Ink] Red rgba value was greater than 255."),console.warn("[Ink] Converting red value to 255..."),i=255),a=+a,isNaN(+a)||"number"!=typeof a)throw Error("[Ink] Green rgba value is not a valid number.");if(a<0&&(console.warn("[Ink] Green rgba value was less than 0."),console.warn("[Ink] converting green value to 0..."),a=0),a>255&&(console.warn("[Ink] Green rgba value was greater than 255."),console.warn("[Ink] Converting green value to 255..."),a=255),o=+o,isNaN(+o)||"number"!=typeof o)throw Error("[Ink] Blue rgba value is not a valid number.");return o<0&&(console.warn("[Ink] Blur rgba value was less than 0."),console.warn("[Ink] converting blue value to 0..."),o=0),o>255&&(console.warn("[Ink] Blue rgba value was greater than 255."),console.warn("[Ink] Converting blue value to 255..."),o=255),{r:i,g:a,b:o,a:s=+s}}(e);else if(e.includes("rgb"))t=function(e){var t=e.replace(/(\(|\)|rgb)/g,"").split(","),n=r(t,3),i=n[0],a=n[1],o=n[2];if(i=+i,isNaN(i)||"number"!=typeof i)throw Error("[Ink] Red rgb value is not a valid number.");if(i<0&&(console.warn("[Ink] Red rgb value was less than 0."),console.warn("[Ink] Converting red value to 0..."),i=0),i>255&&(console.warn("[Ink] Red rgb value was greater than 255."),console.warn("[Ink] Converting red value to 255..."),i=255),a=+a,isNaN(a)||"number"!=typeof a)throw Error("[Ink] Green rgb value is not a valid number.");if(a<0&&(console.warn("[Ink] Green rgb value was less than 0."),console.warn("[Ink] converting green value to 0..."),a=0),a>255&&(console.warn("[Ink] Green rgb value was greater than 255."),console.warn("[Ink] Converting green value to 255..."),a=255),o=+o,isNaN(o)||"number"!=typeof o)throw Error("[Ink] Blue rgb value is not a valid number.");return o<0&&(console.warn("[Ink] Blue rgb value was less than 0."),console.warn("[Ink] converting blue value to 0..."),o=0),o>255&&(console.warn("[Ink] Blue rgb value was greater than 255."),console.warn("[Ink] Converting blue value to 255..."),o=255),{r:i,g:a,b:o,a:1}}(e);else if(e.includes("hsba"))t=getObjectFromHsba(e);else if(e.includes("hsva"))t=o(e);else if(e.includes("hsb"))t=getObjectFromHsb(e);else if(e.includes("hsv"))t=function(e){var t=e.replace(/(\(|\)|hsb|hsv)/g,"").split(","),n=r(t,3);return o("hsva("+n[0]+","+n[1]+","+n[2]+",1)")}(e);else if(e.includes("hsla"))t=s(e);else if(e.includes("hsl"))t=function(e){var t=e.replace(/(\(|\)|hsl)/g,"").split(","),n=r(t,3);return s("hsla("+n[0]+","+n[1]+","+n[2]+",1)")}(e);else if(e.includes("#")&&4===e.length)t=function(e){if("#"!==e[0])throw Error("[Ink] Invalid short hex format.");if(isNaN(parseInt(e.substr(1,3),16)))throw Error("[Ink] Invalid characters in short hex color.");return{r:parseInt(e.substr(1,1)+e.substr(1,1),16),g:parseInt(e.substr(2,1)+e.substr(2,1),16),b:parseInt(e.substr(3,1)+e.substr(3,1),16),a:1}}(e);else{if(!e.includes("#")||7!==e.length)throw Error("[Ink] Unknown color type.");t=function(e){if("#"!==e[0])throw Error("[Ink] Invalid long hex format.");if(isNaN(parseInt(e.substr(1,6),16)))throw Error("[Ink Invalid characters in long hex color.");return{r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16),a:1}}(e)}return t}function o(e){var t=e.replace(/(\(|\)|hsba|hsva)/g,"").split(","),n=r(t,4),a=n[0],o=n[1],s=n[2],u=n[3],l=void 0,c=void 0,h=void 0;if(a=+a,isNaN(a)||"number"!=typeof a)throw Error("[Ink] Hue hsv(a)/hsb(a) is not a valid number.");if(a<0&&(console.warn("[Ink] Hue hsv(a)/hsb(a) was less than 0."),console.warn("[Ink] Converting hue value to 0..."),a=0),a>360&&(console.warn("[Ink] Hue hsv(a)/hsb(a) was greater than 360."),console.warn("[Ink] Converting hue value to "+a%360+"."),a%=360),o=+o,isNaN(o)||"number"!=typeof o)throw Error("[Ink] Saturation hsv(a)/hsb(a) is not a valid number.");if(o<0&&(console.warn("[Ink] Saturation hsv(a)/hsb(a) was less than 0."),console.warn("[Ink] Converting saturation value to 0..."),o=0),o>1&&(console.warn("[Ink] Saturation hsv(a)/hsb(a) was greater than 0."),console.warn("[Ink] Converting saturation value to 1..."),o=1),s=+s,isNaN(s)||"number"!=typeof s)throw Error("[Ink] Brightness/value hsv(a)/hsb(a) is not a valid number.");if(s<0&&(console.warn("[Ink] Brightness/value hsv(a)/hsb(a) was less than 0."),console.warn("[Ink] Converting brightness to 0..."),s=0),s>1&&(console.warn("[Ink] Brightness/value hsv(a)/hsb(a) was greater than 1."),console.warn("[Ink] Converting brightness to 1..."),s=1),u=+u,0==o)l=c=h=s;else{a/=60,i=Math.floor(a),f=a-i;var g=s*(1-o),v=s*(1-o*f),d=s*(1-o*(1-f));0===i?(l=s,c=d,h=g):1===i?(l=v,c=s,h=g):2===i?(l=g,c=s,h=d):3===i?(l=g,c=v,h=s):4===i?(l=d,c=g,h=s):5===i&&(l=s,c=g,h=v)}return{r:l,g:c,b:h,a:u}}function s(e){var t=e.replace(/(\(|\)|hsla)/g,"").split(","),n=r(t,4),i=n[0],a=n[1],o=n[2],s=n[3],u=void 0,l=void 0,c=void 0;if(i=+i,isNaN(i)||"number"!=typeof i)throw Error("[Ink] Hue hsl(a) is not a valid number.");if(i<0&&(console.warn("[Ink] Hue hsl(a) was less than 0."),console.warn("[Ink] Converting hue value to 0..."),i=0),i>360&&(console.warn("[Ink] Hue hsl(a) was greater than 360."),console.warn("[Ink] Converting hue value to "+i%360+"."),i%=360),a=+a,isNaN(a)||"number"!=typeof a)throw Error("[Ink] Saturation hsl(a) is not a valid number.");if(a<0&&(console.warn("[Ink] Saturation hsl(a) was less than 0."),console.warn("[Ink] Converting saturation value to 0..."),a=0),a>1&&(console.warn("[Ink] Saturation hsl(a) was greater than 0."),console.warn("[Ink] Converting saturation value to 1..."),a=1),o=+o,isNaN(o)||"number"!=typeof o)throw Error("[Ink] Lightness hsl(a) is not a valid number.");if(v<0&&(console.warn("[Ink] Lightness hsl(a) was less than 0."),console.warn("[Ink] Converting lightness to 0..."),o=0),o>1&&(console.warn("[Ink] Lightness hsl(a) was greater than 1."),console.warn("[Ink] Converting lightness to 1..."),o=1),s=+s,0==a)u=l=c=o;else{var h=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},f=o<.5?o*(1+a):o+a-o*a,g=2*o-f;u=h(g,f,i+1/3),l=h(g,f,i),c=h(g,f,i-1/3)}return{r:u,g:l,b:c,a:s}}function u(e){return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"}function l(e){return"rgb("+e.r+","+e.g+","+e.b+")"}function c(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.min(t,n,r),o=Math.max(t,n,r),s=o-a,u=void 0,l=void 0,c=o;return 0!==o?(l=s/o,u=t===o?(n-r)/s:n===o?2+(r-4)/s:4+(t-n)/s,(u*=60)<0&&(u+=360),isNaN(u)&&(u=0)):(u=0,l=0,c=0),"hsva("+u+","+l+","+c+","+i+")"}function h(e){var t=c(e).replace(/(\(|\)|hsva)/g,"").split(","),n=r(t,3);return"hsv("+n[0]+","+n[1]+","+n[2]+")"}function g(e){var t=c(e).replace(/(\(|\)|hsva)/g,"").split(","),n=r(t,4);return"hsba("+n[0]+","+n[1]+","+n[2]+","+n[3]+")"}function d(e){var t=c(e).replace(/(\(|\)|hsva)/g,"").split(","),n=r(t,3);return"hsba("+n[0]+","+n[1]+","+n[2]+")"}function b(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=Math.min(t,n,r),s=void 0,u=void 0,l=(a+o)/2;if(a===o)s=u=0;else{var c=a-o;u=l>.5?c/(2-a-o):c/(a+o),a===t?s=(n-r)/c+(n<r?6:0):a===n?s=(r-t)/c+2:a===r&&(s=(t-n)/c+4),s/=6}return"hsla("+s+","+u+","+l+","+i+")"}function w(e){var t=b(e).replace(/(\(|\)|hsla)/g,"").split(","),n=r(t,3);return"hsl("+n[0]+","+n[1]+","+n[2]+")"}function m(e){return"#"+e.r.toString(16)+e.g.toString(16)+e.b.toString(16)}t.ink=function(e,t){var n=a(e),r=n.r,i=n.g,o=n.b,s=n.a;if(isNaN(s)||"number"!=typeof s)throw Error("[Ink] Alpha value is not a valid number.");if(s<0&&(console.warn("[Ink] Alpha was less than 0."),console.warn("[Ink] Converting alpha to 0..."),s=0),s>1&&(console.warn("[Ink] Alpha was greater than 1."),console.warn("[Ink] Converting alpha to 1..."),s=1),t.r&&"number"!=typeof t.r||t.r&&isNaN(t.r))throw Error("[Ink] Red color weight is not a number.");if(t.r&&t.r<0)throw Error("[Ink] Red color weight must be greater than 0.");if(t.g&&"number"!=typeof t.g||t.g&&isNaN(t.g))throw Error("[Ink] Green color weight is not a number.");if(t.g&&t.g<0)throw Error("[Ink] Green color weight must be greater than 0.");if(t.b&&"number"!=typeof t.b||t.b&&isNaN(t.b))throw Error("[Ink] Blue color weight is not a number.");if(t.b&&t.b<0)throw Error("[Ink] Blue color weight must be greater than 0.");if(t.r<0||t.g<0||t.b<0||t.r>1||t.g>1||t.b>1)throw Error("[Ink] Color weights must be inclusively between 0 and 1.");if(t.a<0||t.a>1)throw Error("[Ink] Color alpha must be inclusively between 0 and 1.");if(t.minLightness&&"number"!=typeof t.minLightness)throw Error("[Ink] Min lightness is not a number.");if(t.minLightness&&isNaN(t.minLightness))throw Error("[Ink] Min lightness is not a number.");if(t.maxLightness&&"number"!=typeof t.maxLightness)throw Error("[Ink] Max lightness is not a number.");if(t.maxLightness&&isNaN(t.maxLightness))throw Error("[Ink] Max lightness is not a number.");if(t.lightness&&"number"!=typeof t.lightness)throw Error("[Ink] lightness is not a number.");if(t.lightness&&isNaN(t.lightness))throw Error("[Ink] lightness is not a number.");if(t.minSaturation&&"number"!=typeof t.minSaturation)throw Error("[Ink] Min saturation is not a number.");if(t.minSaturation&&isNaN(t.minSaturation))throw Error("[Ink] Min saturation is not a number.");if(t.maxSaturation&&"number"!=typeof t.maxSaturation)throw Error("[Ink] Max saturation is not a number.");if(t.maxSaturation&&isNaN(t.maxSaturation))throw Error("[Ink] Max saturation is not a number.");if(t.saturation&&"number"!=typeof t.saturation)throw Error("[Ink] Saturation is not a number.");if(t.saturation&&isNaN(t.saturation))throw Error("[Ink] Saturation is not a number.");if(t.object&&"boolean"!=typeof t.object)throw Error("[Ink] Object output parameter value is not a boolean.");if(t.minSaturation>t.maxSaturation){console.warn("[Ink] Min saturation must be smaller than max saturation."),console.warn("[Ink] Switching min and max saturations...");var f=[t.maxSaturation,t.minSaturation];t.minSaturation=f[0],t.maxSaturation=f[1]}if(t.minLightness>t.maxLightness){console.warn("[Ink] Min lightness must be smaller than max lightness."),console.warn("[Ink] Switching min and max lightness...");var v=[t.maxLighntess,t.minLightness];t.minLightness=v[0],t.maxLightness=v[1]}if((t.minLightness&&t.lightness||t.maxLightness&&t.lightness)&&(console.warn("[Ink] Cannot have lightness setting and a threshold."),console.warn("[Ink] Ignoring lightness threshold..."),delete t.minLightness,delete t.maxLightness),(t.minSaturation&&t.saturation||t.maxSaturation&&t.saturation)&&(console.warn("[Ink] Cannot have saturation setting and a threshold."),console.warn("[Ink] Ignoring saturation threshold..."),delete t.minSaturation,delete t.maxSaturation),t.maxLightness&&t.minLightness&&t.maxLightness-t.minLightness<.01&&(console.warn("[Ink] Max and min lightness threshold too close."),console.warn("[Ink] Removing lightness threshold and using hard setting..."),t.lightness=t.minLightness,delete t.minLightness,delete t.maxLightness),t.minSaturation&&t.maxSaturation&&t.maxSaturation-t.minSaturation<.01&&(console.warn("[Ink] Max and min saturation threshold too close."),console.warn("[Ink] Removing saturation threshold and using hard setting..."),t.saturation=t.minSaturation,delete t.minSaturation,delete t.maxSaturation),t.r&&(r=Math.floor(t.r*r))>255&&(r=255),t.g&&(i=Math.floor(t.g*i))>255&&(i=255),t.b&&(o=Math.floor(t.b*o))>255&&(o=255),t.a&&(s=t.a),t.minLightness)for(;(r+i+o)/3/255<t.minLightness;)r*=1.01,i*=1.01,o*=1.01;if(t.maxLightness)for(;(r+i+o)/3/255>t.maxLightness;)r*=.99,i*=.99,o*=.99;if(t.lightness){for(;(r+i+o)/3/255<t.lightness-.03;)r*=1.01,i*=1.01,o*=1.01;for(;(r+i+o)/3/255>t.lightness+.03;)r*=.99,i*=.99,o*=.99}return t.format&&"object"===t.format?{r:r,g:i,b:o,a:s}:t.format&&"hex"===t.format?m({r:r,g:i,b:o}):t.format&&"hsl"===t.format?w({r:r,g:i,b:o}):t.format&&"hsla"===t.format?b({r:r,g:i,b:o,a:s}):t.format&&"hsv"===t.format?h({r:r,g:i,b:o}):t.format&&"hsva"===t.format?c({r:r,g:i,b:o,a:s}):t.format&&"hsb"===t.format?d({r:r,g:i,b:o}):t.format&&"hsba"===t.format?g({r:r,g:i,b:o,a:s}):t.format&&"rgb"===t.format?l({r:r,g:i,b:o}):u({r:r,g:i,b:o,a:s})},t.convert2rgba=function(e){return u(a(e))},t.convert2rgb=function(e){return l(a(e))},t.convert2hsba=function(e){return g(a(e))},t.convert2hsva=function(e){return c(a(e))},t.convert2hsb=function(e){return d(a(e))},t.convert2hsv=function(e){return h(a(e))},t.convert2hsla=function(e){return b(a(e))},t.convert2hsl=function(e){return w(a(e))},t.convert2hex=function(e){return m(a(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=t.Easel=function(){function e(t){var n=this;if(i(this,e),!window.CanvasRenderingContext2D)return this.activated=!1,!1;this.activated=!0,this.canvas=document.createElement("canvas"),this.ctx=t?this.canvas.getContext("webgl"):this.canvas.getContext("2d"),this.viewport=this.acquireViewport(),this.randomInteger=function(e,t,n){return e=t?e>t?t+(r=e)-t:e:0*(t=e),n=n||0,t=Math.random()*(t-e)+e,n?0|t:t},window.onresize=function(){n.viewport=n.acquireViewport(),n.resizeCanvas(),n.config(),n.redraw()},this.background="#000",this.started=!1,document.body.appendChild(this.canvas);var r=document.createElement("style");r.type="text/css",r.rel="stylesheet",r.innerHTML="body{background-color:"+this.background+";margin:0;}\n      canvas{position:fixed;left:0;top:0;right:0;bottom:0;}",document.querySelector("head").appendChild(r),this.resizeCanvas()}return r(e,[{key:"resizeCanvas",value:function(){this.canvas.width=this.viewport.w,this.canvas.height=this.viewport.h}},{key:"acquireContext",value:function(){this.ctx=this.canvas.getContext("2d")}},{key:"acquireViewport",value:function(){var e=window,t="inner";return e.innerWidth||(t="client",e=document.documentElement||document.body),{w:e[t+"Width"],h:e[t+"Height"]}}},{key:"redraw",value:function(){this.started||(this.config(),this.started=!0),this.onDraw()}},{key:"config",value:function(){}},{key:"onDraw",value:function(){this.ctx.fillStyle=this.background,this.ctx.fillRect(0,0,this.viewport.width,this.viewport.height)}}]),e}();t.Easel3d=function(e){function t(){return i(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,!0))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.laser=function(e,t){var n=this,a=t.startX,o=t.startY,s=t.endX,u=t.endY,l=t.size,c=200,h=new i.Ion(1);return a=a||0,o=o||0,s=s||0,u=u||0,l=l||10,h.states=["initial"],h.clear=!1,h.color="rgba(250,250,150,0.5)",h.startX=function(){return n.camera.x+s},h.startY=function(){return n.camera.y+u},h.endX=function(){return n.camera.x+s-l/2+r(l)},h.endY=function(){return n.camera.y+u-l/2+r(l)},h.windX=function(){return r(0,1.5)-.75},h.windY=function(){return r(0,1.5)-.75},h.size=function(){return r(2,4,!0)},h.tweenType=function(){return r(10,15,!0)},h.tweenDuration=function(){return r(100,150,!0)},h.onParticleEnd=function(e){this.collection.splice(e.id,1),this.collection.forEach(function(e,t){return e.id=t})},h.onCreate=function(){return c--},h.populate(),h.draw=function(e){ctx.strokeStyle="rgba(100,100,250,"+5e-4*c+")",ctx.lineWidth=17,c>0&&(ctx.beginPath(),ctx.moveTo(n.camera.x+a+3,n.camera.y+o),ctx.lineTo(n.camera.x+s+3,n.camera.y+u),ctx.stroke(),ctx.strokeStyle="#DDF",ctx.lineWidth=2,ctx.beginPath(),ctx.moveTo(n.camera.x+a+3,n.camera.y+o),ctx.lineTo(n.camera.x+s+3,n.camera.y+u),ctx.stroke())},h};var i=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vortex=function(e,t){var n=this,a=t.startX,o=t.startY,s=t.size,u=t.density,l=t.iterations,c=t.callback,h=new i.Ion(u||200);return a=a||0,o=o||0,s=s||300,l=l||1/0,h.states=["initial"],h.clear=!1,h.color="rgba(200,200,255,0.7)",h.startX=function(){return Math.abs(n.camera.x+r(-1*s/2,s/2)+a)+1},h.startY=function(){return Math.abs(n.camera.y+r(-1*s/2,s/2)+o)+1},h.endX=function(){return n.camera.x+a},h.endY=function(){return n.camera.y+o},h.size=function(){return r(1,5)},h.tweenType="ease-out-circular",h.tweenDuration=function(){return r(100,200,!0)},h.onParticleEnd=function(e){l<50&&l>0?("function"==typeof c&&(c(),c=void 0),l--):l>0?(l--,this.reevaluate(e)):0===l&&(h.finished=!0)},h.onMove=function(e){e.endX=h.endX(),e.endY=h.endY()},h.populate(15),h};var i=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flame=function(e,t){var n=this,a=t.startX,o=t.startY,s=t.width,u=t.height,l=t.color,c=t.quality,h=new i.Ion(2*(c||100));return a=a||0,o=o||0,s=s||20,u=u||100,h.states=["initial"],h.clear=!1,h.color=l||"rgba(250,170,0,0.2)",h.startX=function(){return n.camera.x+a+r(0,s)-s/2},h.startY=function(){return n.camera.y+o},h.endX=function(){return n.camera.x+a},h.endY=function(){return n.camera.y+o-u},h.windX=function(){return r(0,.5)-.25},h.windY=function(){return r(0,2)-2},h.tweenType=function(){return r(10,20,!0)},h.tweenDuration=function(){return r(300,600,!1)},h.onEscape=function(e){this.onEnd(e)},h.onEnd=h.reevaluate,h.onMove=function(e){var t=(u+s)/4;e.tweenCurrent>.15*e.tweenDuration?this.onEnd(e):e.size=t-t/e.tweenDuration*e.tweenCurrent},h.populate(),h};var i=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);Object.defineProperty(t,"flame",{enumerable:!0,get:function(){return r.flame}});var i=n(6);Object.defineProperty(t,"vortex",{enumerable:!0,get:function(){return i.vortex}});var a=n(5);Object.defineProperty(t,"laser",{enumerable:!0,get:function(){return a.laser}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IonCloud=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8));t.IonCloud=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.camera={x:v.w/2,y:v.h/2,dx:0,dy:0},this.collection=[],this.beforeDraw={},this.clouds=i,this.state="initial"}return r(e,[{key:"animate",value:function(e){"string"==typeof e?this.collection.push(this.clouds[e].apply(this,arguments)):this.collection.push(e.apply(this,arguments))}},{key:"makeState",value:function(e,t){this.beforeDraw[e]=t}},{key:"clearScene",value:function(){ctx.fillStyle="#000",ctx.fillRect(0,0,v.w,v.h)}},{key:"draw",value:function(){var e=this;this.clearScene(),this.beforeDraw[this.state]&&this.beforeDraw[this.state](),this.collection.forEach(function(t,n,r){t.states.includes(e.state)&&(t.finished?("function"==typeof t.onFinished&&t.onFinished(),r.splice(n,1)):t.getFrame())}),requestAnimationFrame(function(){return e.draw()})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);Object.defineProperty(t,"Ion",{enumerable:!0,get:function(){return r.Ion}});var i=n(9);Object.defineProperty(t,"IonCloud",{enumerable:!0,get:function(){return i.IonCloud}});var a=n(4);Object.defineProperty(t,"Easel",{enumerable:!0,get:function(){return a.Easel}}),Object.defineProperty(t,"Easel3d",{enumerable:!0,get:function(){return a.Easel3d}});var o=n(3);Object.defineProperty(t,"ink",{enumerable:!0,get:function(){return o.ink}}),Object.defineProperty(t,"rgb2hex",{enumerable:!0,get:function(){return o.rgb2hex}}),Object.defineProperty(t,"randomHex",{enumerable:!0,get:function(){return o.randomHex}}),Object.defineProperty(t,"randomRgb",{enumerable:!0,get:function(){return o.randomRgb}}),Object.defineProperty(t,"hex2rgb",{enumerable:!0,get:function(){return o.hex2rgb}}),Object.defineProperty(t,"hex2rgbObject",{enumerable:!0,get:function(){return o.hex2rgbObject}});var s=n(2);Object.defineProperty(t,"Phaser",{enumerable:!0,get:function(){return s.Phaser}});var u=n(1);Object.defineProperty(t,"Dice",{enumerable:!0,get:function(){return u.Dice}})}])});