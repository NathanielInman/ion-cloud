{"version":3,"sources":["webpack://ion/webpack/universalModuleDefinition","webpack://ion/webpack/bootstrap","webpack://ion/./src/lib/clouds/flame.js","webpack://ion/./src/lib/clouds/index.js","webpack://ion/./src/lib/clouds/laser.js","webpack://ion/./src/lib/clouds/vortex.js","webpack://ion/./src/lib/dice.js","webpack://ion/./src/lib/easel.js","webpack://ion/./src/lib/index.js","webpack://ion/./src/lib/ink.js","webpack://ion/./src/lib/ion.js","webpack://ion/./src/lib/ionCloud.js","webpack://ion/./src/lib/phaser.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","flame","parameters","_this","this","startX","startY","width","height","color","quality","_ion","Ion","states","clear","camera","x","y","endX","endY","windX","windY","tweenType","tweenDuration","onEscape","onEnd","reevaluate","onMove","particle","size","tweenCurrent","populate","vortex","laser","status","onParticleEnd","collection","splice","id","forEach","onCreate","draw","ctx","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","density","iterations","callback","Infinity","Math","abs","undefined","finished","Dice","damageString","_classCallCheck","string","compileStatements","splitString","split","filteredOperations","filter","includes","filteredOperators","statements","unshift","push","operator","operation","min","max","floor","random","_this2","result","statement","minOperation","maxOperation","randomInteger","length","Easel","is3d","CanvasRenderingContext2D","activated","canvas","document","createElement","getContext","viewport","acquireViewport","f","g","e","onresize","resizeCanvas","config","redraw","background","started","body","appendChild","type","rel","innerHTML","querySelector","w","h","b","innerWidth","documentElement","onDraw","fillStyle","fillRect","Easel3d","_possibleConstructorReturn","__proto__","getPrototypeOf","IonCloud","ink","convert2rgba","convert2rgb","convert2hsba","convert2hsva","convert2hsb","convert2hsv","convert2hsla","convert2hsl","convert2hex","convert2cmyk","Phaser","getColorObject","colorString","_colorString$replace$","replace","_colorString$replace$2","_slicedToArray","a","isNaN","Error","console","warn","getObjectFromRgba","_colorString$replace$3","_colorString$replace$4","getObjectFromRgb","getObjectFromHsba","getObjectFromHsva","getObjectFromHsb","_colorString$replace$7","_colorString$replace$8","v","getObjectFromHsv","getObjectFromHsla","getObjectFromHsl","_colorString$replace$11","_colorString$replace$12","k","getObjectFromCmyk","parseInt","substr","getObjectFromShortHex","getObjectFromLongHex","_colorString$replace$5","_colorString$replace$6","C","X","loc","round","_ref","_colorString$replace$9","_colorString$replace$10","_ref2","_colorString$replace$13","_colorString$replace$14","getRgbaFromObject","getRgbFromObject","getHsvaFromObject","_ref3","delta","getHsvFromObject","_colorString$replace$15","_colorString$replace$16","getHsbaFromObject","_colorString$replace$17","_colorString$replace$18","getHsbFromObject","_colorString$replace$19","_colorString$replace$20","getCmykFromObject","_ref4","getHslaFromObject","_ref5","getHslFromObject","_colorString$replace$21","_colorString$replace$22","getHexFromObject","toString","padStart","options","_objectWithoutProperties","arguments","_getColorObject","minLightness","maxLightness","lightness","minSaturation","maxSaturation","saturation","_ref7","_ref8","maxLighntess","_getHslFromObject$rep","_getHslFromObject$rep2","_getObjectFromHsl","_getHslFromObject$rep3","_getHslFromObject$rep4","_getObjectFromHsl2","_getHslFromObject$rep5","_getHslFromObject$rep6","_getObjectFromHsl3","_getHslFromObject$rep7","_getHslFromObject$rep8","_getObjectFromHsl4","toFixed","format","easel","quantity","clearColor","tweenSpeed","axis","optionalOrientation","optionalType","optionalTime","t","cos","PI","pow","sqrt","tween","asin","sin","sx","sy","dx","dy","ttc","ttd","tt","image","originX","originY","terminalX","terminalY","imageWidth","imageHeight","wait","getNew","setTimeout","Array","from","ignore","index","isClear","scaleX","scaleY","yo","xo","px","py","drawImage","_this3","clearFrame","getFrame","afterDraw","requestAnimationFrame","process","putImageData","_this4","imageClear","wind","clouds","beforeDraw","state","apply","clearScene","animation","onFinished","interval","phase","context","properties","makeGradient","frame","colorD","err","error","initialize","cd","cc","fc","firstName","colorStop","keys","key","nc","cur","current","found","newPhase","grd","addColorStop","getNextPhase","c1","c2"],"mappings":"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","file":"index.development.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ion\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ion\"] = factory();\n\telse\n\t\troot[\"ion\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/lib/index.js\");\n","import {Ion} from '../ion';\n\nexport function flame(name,parameters){\n  let {startX,startY,width,height,color,quality} = parameters,\n      flame = new Ion(2*(quality||100));\n\n  startX = startX||0;\n  startY = startY||0;\n  width = width||20;\n  height = height||100;\n  flame.states = ['initial'];\n  flame.clear = false;\n  flame.color = color||'rgba(250,170,0,0.2)';\n  flame.startX = ()=> this.camera.x+startX+r(0,width)-width/2;\n  flame.startY = ()=> this.camera.y+startY;\n  flame.endX = ()=> this.camera.x+startX;\n  flame.endY = ()=> this.camera.y+startY-height;\n  flame.windX = ()=> r(0,0.5)-0.25;\n  flame.windY = ()=> r(0,2)-2;\n  flame.tweenType = ()=> r(10,20,true);\n  flame.tweenDuration = ()=> r(300,600,false);\n  flame.onEscape = function onEscape(p){ this.onEnd(p); };\n  flame.onEnd =  flame.reevaluate;\n  flame.onMove = function onMove(particle){\n    let size=(height+width)/4;\n\n    // reset after we reach 15%\n    if(particle.tweenCurrent>particle.tweenDuration*0.15){\n      this.onEnd(particle);\n    }else{\n      particle.size=size-size/particle.tweenDuration*particle.tweenCurrent;\n    } //end if\n  };\n  flame.populate();\n  return flame;\n} //end flame()\n","export {flame} from './flame';\nexport {vortex} from './vortex';\nexport {laser} from './laser';\n","import {Ion} from '../ion';\n\nexport function laser(name,parameters){\n  let {startX,startY,endX,endY,size} = parameters,\n      status = 200,\n      laser = new Ion(1);\n\n  startX = startX || 0;\n  startY = startY || 0;\n  endX = endX || 0;\n  endY = endY || 0;\n  size = size || 10;\n  laser.states = ['initial'];\n  laser.clear = false;\n  laser.color = 'rgba(250,250,150,0.5)';\n  laser.startX = ()=> this.camera.x+endX;\n  laser.startY = ()=> this.camera.y+endY;\n  laser.endX = ()=> this.camera.x+endX-size/2+r(size);\n  laser.endY = ()=> this.camera.y+endY-size/2+r(size);\n  laser.windX = ()=> r(0,1.5)-0.75;\n  laser.windY = ()=> r(0,1.5)-0.75;\n  laser.size = ()=> r(2,4,true);\n  laser.tweenType = ()=> r(10,15,true);\n  laser.tweenDuration = ()=> r(100,150,true);\n  laser.onParticleEnd = function onParticleEnd(particle){\n    this.collection.splice(particle.id,1);\n    this.collection.forEach((p,i)=>p.id=i); //re-index array\n  };\n  laser.onCreate = ()=> status--;\n  laser.populate();\n  laser.draw = (particle)=>{\n    ctx.strokeStyle='rgba(100,100,250,'+0.1/200*status+')';\n    ctx.lineWidth=17;\n    if(status>0){\n      ctx.beginPath();\n      ctx.moveTo(this.camera.x+startX+3,this.camera.y+startY);\n      ctx.lineTo(this.camera.x+endX+3,this.camera.y+endY);\n      ctx.stroke();\n      ctx.strokeStyle='#DDF';\n      ctx.lineWidth=2;\n      ctx.beginPath();\n      ctx.moveTo(this.camera.x+startX+3,this.camera.y+startY);\n      ctx.lineTo(this.camera.x+endX+3,this.camera.y+endY);\n      ctx.stroke();\n    } //end if\n  };\n  return laser;\n} //end laser()\n","import {Ion} from '../ion';\n\nexport function vortex(name,parameters){\n  let {startX,startY,size,density,iterations,callback} = parameters,\n      vortex = new Ion(density||200);\n\n  startX = startX || 0;\n  startY = startY || 0;\n  size = size || 300;\n  iterations = iterations || Infinity;\n  vortex.states = ['initial'];\n  vortex.clear = false;\n  vortex.color = 'rgba(200,200,255,0.7)';\n  vortex.startX = ()=> Math.abs(this.camera.x+r(-1*size/2,size/2)+startX)+1;\n  vortex.startY = ()=> Math.abs(this.camera.y+r(-1*size/2,size/2)+startY)+1;\n  vortex.endX = ()=> this.camera.x+startX;\n  vortex.endY = ()=> this.camera.y+startY;\n  vortex.size = ()=> r(1,5);\n  vortex.tweenType = 'ease-out-circular';\n  vortex.tweenDuration = ()=> r(100,200,true);\n  vortex.onParticleEnd = function onParticleEnd(particle){\n    if(iterations<50&&iterations>0){\n      if(typeof callback === 'function'){\n        callback();\n        callback = undefined; //clear so doesn't run again\n      } //end if\n      iterations--;\n    }else if(iterations>0){\n      iterations--;\n      this.reevaluate(particle);\n    }else if(iterations===0){\n      vortex.finished = true;\n    }//end if\n  };\n  vortex.onMove = function onMove(particle){\n    particle.endX = vortex.endX();\n    particle.endY = vortex.endY();\n  };\n  vortex.populate(15);\n  return vortex;\n} //end vortex()\n","// Using #d# and # and the operators + and -, any statement string. Ex:\n// 3d8+23-2d4\nexport class Dice{\n  constructor(damageString){\n    this.string = damageString;\n    this.compileStatements();\n  }\n  compileStatements(){\n    let splitString = this.string.split(/(\\+|\\-)/g),\n        filteredOperations = splitString.filter(s=>!['+','-'].includes(s)),\n        filteredOperators = splitString.filter(s=>['+','-'].includes(s));\n\n    this.statements = [];\n    filteredOperators.unshift('+'); //first roll is always additive\n    filteredOperations.forEach((s,i)=>{\n      this.statements.push({\n        operator: filteredOperators[i],\n        operation: filteredOperations[i]\n      });\n    });\n    return this.statements;\n  }\n  get min(){\n    let result = 0;\n\n    this.statements.forEach(statement=>{\n      if(statement.operator==='+'){\n        result+=minOperation(statement.operation);\n      }else{\n        result-=minOperation(statement.operation);\n      }\n    });\n    return result;\n  }\n  get max(){\n    let result = 0;\n\n    this.statements.forEach(statement=>{\n      if(statement.operator==='+'){\n        result+=maxOperation(statement.operation);\n      }else{\n        result-=maxOperation(statement.operation);\n      } //end if\n    });\n    return result;\n  }\n  randomInteger(min,max){\n    return Math.floor(Math.random()*(max-min))+min;\n  }\n  roll(){\n    let result = 0;\n\n    this.statements.forEach(statement=>{\n      let min = minOperation(statement.operation),\n          max = maxOperation(statement.operation);\n\n      if(statement.operator==='+'){\n        result+=this.randomInteger(min,max);\n      }else{\n        result-=this.randomInteger(min,max);\n      } //end if\n    });\n    return result;\n  }\n}\n\nfunction minOperation(operation){\n  let splitString = operation.split(/d/g);\n\n  return +splitString[0];\n} //end minOperation()\n\nfunction maxOperation(operation){\n  let splitString = operation.split(/d/g),\n      result = 0;\n\n  if(splitString.length>1){\n    result = splitString[0]*splitString[1]; //#d#\n  }else{\n    result = +splitString[0]; //#\n  } //end if\n  return result;\n} //end maxOperation()\n","/*eslint-disable */\nexport class Easel{\n  constructor(is3d){\n    if(!!window.CanvasRenderingContext2D){\n      this.activated = true;\n    }else{\n      this.activated = false;\n      return false;\n    } //end if\n    this.canvas = document.createElement('canvas');\n    if(is3d){\n      this.ctx = this.canvas.getContext('webgl');\n    }else{\n      this.ctx = this.canvas.getContext('2d');\n    } //end if\n    this.viewport = this.acquireViewport();\n    this.randomInteger = function randomInteger(f,g,e){\n      f = !g ? 0 * (g = f) : f > g ? g + (d = f) - g : f;\n      e = e || 0;\n      g = Math.random() * (g - f) + f;\n      return e ? g | 0 : g;\n    };\n    window.onresize = ()=>{\n      this.viewport = this.acquireViewport();\n      this.resizeCanvas();\n      this.config();\n      this.redraw();\n    };\n    this.background = '#000';\n    this.started = false;\n    document.body.appendChild(this.canvas);\n\n    let d = document.createElement('style');\n    d.type = 'text/css';\n    d.rel = 'stylesheet';\n    d.innerHTML =\n      `body{background-color:${this.background};margin:0;}\n      canvas{position:fixed;left:0;top:0;right:0;bottom:0;}`;\n    document.querySelector('head').appendChild(d);\n    this.resizeCanvas();\n  }\n  resizeCanvas(){\n    this.canvas.width = this.viewport.w;\n    this.canvas.height = this.viewport.h;\n  }\n  acquireContext(){\n    this.ctx = this.canvas.getContext('2d');\n  }\n  acquireViewport(){\n    let d = window, b = 'inner';\n\n    if(!(d.innerWidth)){\n      b = 'client';\n      d = document.documentElement || document.body;\n    } //end if\n    return {\n      w: d[b + 'Width'],\n      h: d[b + 'Height']\n    };\n  }\n  redraw(){\n    if(!this.started){\n      this.config();\n      this.started=true;\n    } //end if\n    this.onDraw();\n  }\n  config(){}\n  onDraw(){\n    this.ctx.fillStyle = this.background;\n    this.ctx.fillRect(0, 0, this.viewport.width, this.viewport.height);\n  }\n}\nexport class Easel3d extends Easel{\n  constructor(){\n    super(true);\n  }\n}\n/*eslint-enable */\n","export {Ion} from './ion';\nexport {IonCloud} from './ionCloud';\nexport {Easel,Easel3d} from './easel';\nexport {\n  ink,\n  convert2rgba,\n  convert2rgb,\n  convert2hsba,\n  convert2hsva,\n  convert2hsb,\n  convert2hsv,\n  convert2hsla,\n  convert2hsl,\n  convert2hex,\n  convert2cmyk\n} from './ink';\nexport {Phaser} from './phaser';\nexport {Dice} from './dice';\n","function getColorObject(colorString){\n  let result = 'invalid';\n\n  if(colorString.includes('rgba')){\n    result = getObjectFromRgba(colorString);\n  }else if(colorString.includes('rgb')){\n    result = getObjectFromRgb(colorString);\n  }else if(colorString.includes('hsba')){\n    result = getObjectFromHsba(colorString);\n  }else if(colorString.includes('hsva')){\n    result = getObjectFromHsva(colorString);\n  }else if(colorString.includes('hsb')){\n    result = getObjectFromHsb(colorString);\n  }else if(colorString.includes('hsv')){\n    result = getObjectFromHsv(colorString);\n  }else if(colorString.includes('hsla')){\n    result = getObjectFromHsla(colorString);\n  }else if(colorString.includes('hsl')){\n    result = getObjectFromHsl(colorString);\n  }else if(colorString.includes('cmyk')){\n    result = getObjectFromCmyk(colorString);\n  }else if(colorString.includes('#')&&colorString.length===4){\n    result = getObjectFromShortHex(colorString);\n  }else if(colorString.includes('#')&&colorString.length===7){\n    result = getObjectFromLongHex(colorString);\n  }else{\n    throw Error('[Ink] Unknown color type.');\n  } //end if\n  return result;\n} //end getColorObject()\n\nfunction getObjectFromRgba(colorString){\n  let [r,g,b,a] = colorString.replace(/(\\(|\\)|rgba)/g,'').split(',');\n\n  r = +r|0; //convert to number and floor\n  if(isNaN(+r)||typeof r !== 'number'){\n    throw Error(`[Ink] Red rgba value is not a valid number. (${r})`);\n  } //end if\n  if(r<0){\n    console.warn(`[Ink] Red rgba value was less than 0. (${r})`);\n    console.warn('[Ink] Converting red value to 0...');\n    r = 0;\n  } //end if\n  if(r>255){\n    console.warn(`[Ink] Red rgba value was greater than 255. (${r})`);\n    console.warn('[Ink] Converting red value to 255...');\n    r = 255;\n  } //end if\n  g = +g|0; //convert to number and floor\n  if(isNaN(+g)||typeof g !== 'number'){\n    throw Error('[Ink] Green rgba value is not a valid number.');\n  } //end if\n  if(g<0){\n    console.warn(`[Ink] Green rgba value was less than 0. (${g})`);\n    console.warn('[Ink] converting green value to 0...');\n    g = 0;\n  } //end if\n  if(g>255){\n    console.warn(`[Ink] Green rgba value was greater than 255. (${g})`);\n    console.warn('[Ink] Converting green value to 255...');\n    g = 255;\n  } //end if\n  b = +b|0; //convert to number and floor\n  if(isNaN(+b)||typeof b !== 'number'){\n    throw Error('[Ink] Blue rgba value is not a valid number.');\n  } //end if\n  if(b<0){\n    console.warn(`[Ink] Blur rgba value was less than 0. (${b})`);\n    console.warn('[Ink] converting blue value to 0...');\n    b = 0;\n  } //end if\n  if(b>255){\n    console.warn(`[Ink] Blue rgba value was greater than 255. (${b})`);\n    console.warn('[Ink] Converting blue value to 255...');\n    b = 255;\n  } //end if\n  a = +a; //convert to number\n\n  return {r,g,b,a};\n} //end getObjectFromRgba()\n\nfunction getObjectFromRgb(colorString){\n  let [r,g,b] = colorString.replace(/(\\(|\\)|rgb)/g,'').split(',');\n\n  r = +r|0; //convert to number and floor\n  if(isNaN(r)||typeof r !== 'number'){\n    throw Error('[Ink] Red rgb value is not a valid number.');\n  } //end if\n  if(r<0){\n    console.warn(`[Ink] Red rgb value was less than 0. (${r})`);\n    console.warn('[Ink] Converting red value to 0...');\n    r = 0;\n  } //end if\n  if(r>255){\n    console.warn(`[Ink] Red rgb value was greater than 255. (${r})`);\n    console.warn('[Ink] Converting red value to 255...');\n    r = 255;\n  } //end if\n  g = +g|0; //convert to number and floor\n  if(isNaN(g)||typeof g !== 'number'){\n    throw Error('[Ink] Green rgb value is not a valid number.');\n  } //end if\n  if(g<0){\n    console.warn(`[Ink] Green rgb value was less than 0. (${g})`);\n    console.warn('[Ink] converting green value to 0...');\n    g = 0;\n  } //end if\n  if(g>255){\n    console.warn(`[Ink] Green rgb value was greater than 255. (${g})`);\n    console.warn('[Ink] Converting green value to 255...');\n    g = 255;\n  } //end if\n  b = +b|0; //convert to number and floor\n  if(isNaN(b)||typeof b !== 'number'){\n    throw Error('[Ink] Blue rgb value is not a valid number.');\n  } //end if\n  if(b<0){\n    console.warn(`[Ink] Blue rgb value was less than 0. (${b})`);\n    console.warn('[Ink] converting blue value to 0...');\n    b = 0;\n  } //end if\n  if(b>255){\n    console.warn(`[Ink] Blue rgb value was greater than 255. (${b})`);\n    console.warn('[Ink] Converting blue value to 255...');\n    b = 255;\n  } //end if\n  return {r,g,b,a: 1};\n} //end getObjectFromRgb()\n\nfunction getObjectFromHsva(colorString){\n  let [h,s,v,a] = colorString.replace(/(\\(|\\)|hsba|hsva)/g,'').split(','),\n      r, g, b;\n\n  h = +h; //convert to number\n  if(isNaN(h)||typeof h !== 'number'){\n    throw Error('[Ink] Hue hsv(a)/hsb(a) is not a valid number.');\n  } //end if\n  if(h>360.0001){\n    console.warn(`[Ink] Hue hsv(a)/hsb(a) was greater than 360. (${h})`);\n    console.warn(`[Ink] Converting hue value to ${h%360}.`);\n    h%=360;\n  } //end if\n  if(h<0){\n    console.warn(`[Ink] Hue hsv(a)/hsb(a) was less than 0. (${h})`);\n    console.warn(`[Ink] Converting hue value to ${360+h%360}.`);\n    h=360-h%360;\n  } //end if\n  s = +s; //convert to number\n  if(isNaN(s)||typeof s !== 'number'){\n    throw Error('[Ink] Saturation hsv(a)/hsb(a) is not a valid number.');\n  } //end if\n  if(s<0){\n    console.warn(`[Ink] Saturation hsv(a)/hsb(a) was less than 0. (${s})`);\n    console.warn('[Ink] Converting saturation value to 0...');\n    s = 0;\n  } //end if\n  if(s>1.0001){\n    console.warn(`[Ink] Saturation hsv(a)/hsb(a) was greater than 0. (${s})`);\n    console.warn('[Ink] Converting saturation value to 1...');\n    s = 1;\n  } //end if\n  v = +v; //convert to number\n  if(isNaN(v)||typeof v !== 'number'){\n    throw Error('[Ink] Brightness/value hsv(a)/hsb(a) is not a valid number.');\n  } //end if\n  if(v<0){\n    console.warn(`[Ink] Brightness/value hsv(a)/hsb(a) was less than 0. (${v})`);\n    console.warn('[Ink] Converting brightness to 0...');\n    v = 0;\n  } //end if\n  if(v>1.0001){\n    console.warn(`[Ink] Brightness/value hsv(a)/hsb(a) was greater than 1. (${v})`);\n    console.warn('[Ink] Converting brightness to 1...');\n    v = 1;\n  } //end if\n  a = +a;\n\n  let C = v*s,\n      X = C*(1 - Math.abs((h/60)%2 - 1)),\n      m = v-C,\n      loc = (type)=>{\n        if(h<60) return Math.round(([C,X,0][type]+m)*255);\n        if(h<120) return Math.round(([X,C,0][type]+m)*255);\n        if(h<180) return Math.round(([0,C,X][type]+m)*255);\n        if(h<240) return Math.round(([0,X,C][type]+m)*255);\n        if(h<300) return Math.round(([X,0,C][type]+m)*255);\n        return Math.round(([C,0,X][type]+m)*255);\n      };\n\n  [r,g,b] = [loc(0),loc(1),loc(2)];\n  return {r,g,b,a};\n} //end getObjectFromHsva()\n\nfunction getObjectFromHsv(colorString){\n  let [h,s,v] = colorString.replace(/(\\(|\\)|hsb|hsv)/g,'').split(',');\n\n  return getObjectFromHsva(`hsva(${h},${s},${v},1)`);\n} //end getObjectFromHsv()\n\nfunction getObjectFromHsla(colorString){\n  let [h,s,l,a] = colorString.replace(/(\\(|\\)|hsla)/g,'').split(','),\n      r,g,b;\n\n  h = +h|0; //convert to number and floor\n  if(isNaN(h)||typeof h !== 'number'){\n    throw Error('[Ink] Hue hsl(a) is not a valid number.');\n  } //end if\n  if(h>360){\n    console.warn(`[Ink] Hue hsl(a) was greater than 360. (${h})`);\n    console.warn(`[Ink] Converting hue value to ${h%360}.`);\n    h%=360;\n  } //end if\n  if(h<0){\n    console.warn(`[Ink] Hue hsl(a) was less than 0. (${h})`);\n    console.warn(`[Ink] Converting hue value to ${360+h%360}.`);\n    h=360-h%360;\n  } //end if\n  s = +s; //convert to number\n  if(isNaN(s)||typeof s !== 'number'){\n    throw Error('[Ink] Saturation hsl(a) is not a valid number.');\n  } //end if\n  if(s<0){\n    console.warn(`[Ink] Saturation hsl(a) was less than 0. (${s})`);\n    console.warn('[Ink] Converting saturation value to 0...');\n    s = 0;\n  } //end if\n  if(s>1.0001){\n    console.warn(`[Ink] Saturation hsl(a) was greater than 0. (${s})`);\n    console.warn('[Ink] Converting saturation value to 1...');\n    s = 1;\n  }else if(s>1){\n    s = 1; //allow some slack in percision w/o warning\n  } //end if\n  l = +l; //convert to number\n  if(isNaN(l)||typeof l !== 'number'){\n    throw Error('[Ink] Lightness hsl(a) is not a valid number.');\n  } //end if\n  if(l<0){\n    console.warn(`[Ink] Lightness hsl(a) was less than 0. (${l})`);\n    console.warn('[Ink] Converting lightness to 0...');\n    l = 0;\n  } //end if\n  if(l>1.0001){\n    console.warn(`[Ink] Lightness hsl(a) was greater than 1. (${l})`);\n    console.warn('[Ink] Converting lightness to 1...');\n    l = 1;\n  }else if(l>1){\n    l = 1; //allow some slack in percision w/o warning\n  } //end if\n  a = +a;\n\n  // given hue (h), saturation (s) and light (l) convert to rgb\n  let C = (1 - Math.abs(2*l - 1))*s,\n      X = C*(1 - Math.abs(h/60%2 - 1)),\n      m = l - C/2,\n      loc = (type)=>{\n        if(h<60) return Math.round(([C,X,0][type]+m)*255);\n        if(h<120) return Math.round(([X,C,0][type]+m)*255);\n        if(h<180) return Math.round(([0,C,X][type]+m)*255);\n        if(h<240) return Math.round(([0,X,C][type]+m)*255);\n        if(h<300) return Math.round(([X,0,C][type]+m)*255);\n        return Math.round(([C,0,X][type]+m)*255);\n      };\n\n  [r,g,b] = [loc(0),loc(1),loc(2)];\n  return {r,g,b,a};\n} //end getObjectFromHsla()\n\nfunction getObjectFromCmyk(colorString){\n  let [c,m,y,k] = colorString.replace(/(\\(|\\)|cmyk)/g,'').split(',');\n\n  c = +c; //convert to number\n  if(isNaN(c)||typeof c !== 'number'){\n    throw Error('[Ink] Cyan cmyk is not a valid number.');\n  } //end if\n  if(c<0){\n    console.warn(`[Ink] Cyan cmyk was less than 0. (${c})`);\n    console.warn('[Ink] Converting cyan value to 0...');\n    c = 0;\n  } //end if\n  if(c>1.0001){\n    console.warn(`[Ink] Cyan cmyk was greater than 1. (${c})`);\n    console.warn('[Ink] Converting cyan value to 1.');\n    c = 1;\n  }else if(c>1){\n    c = 1; //allow some off-precision without warning\n  } //end if\n  m = +m; //convert to number\n  if(isNaN(m)||typeof m !== 'number'){\n    throw Error('[Ink] Magenta cmyk is not a valid number.');\n  } //end if\n  if(m<0){\n    console.warn(`[Ink] Magenta cmyk was less than 0. (${m})`);\n    console.warn('[Ink] Converting magenta value to 0...');\n    m = 0;\n  } //end if\n  if(m>1.0001){\n    console.warn(`[Ink] Magenta cmyk was greater than 1 (${m}).`);\n    console.warn('[Ink] Converting magenta value to 1.');\n    m = 1;\n  }else if(m>1){\n    m = 1; //allow some off-precision without warning\n  } //end if\n  y = +y; //convert to number\n  if(isNaN(y)||typeof y !== 'number'){\n    throw Error('[Ink] Yellow cmyk is not a valid number.');\n  } //end if\n  if(m<0){\n    console.warn(`[Ink] Yellow cmyk was less than 0. (${m})`);\n    console.warn('[Ink] Converting yellow value to 0...');\n    y = 0;\n  } //end if\n  if(y>1.0001){\n    console.warn(`[Ink] Yellow cmyk was greater than 1. (${y})`);\n    console.warn('[Ink] Converting yellow value to 1.');\n    y = 1;\n  }else if(y>1){\n    y = 1; //allow some off-precision without warning\n  } //end if\n  k = +k; //convert to number\n  if(isNaN(k)||typeof k !== 'number'){\n    throw Error('[Ink] Black cmyk is not a valid number.');\n  } //end if\n  if(k<0){\n    console.warn(`[Ink] Black cmyk was less than 0. (${k})`);\n    console.warn('[Ink] Converting black value to 0...');\n    k = 0;\n  } //end if\n  if(k>1.0001){\n    console.warn(`[Ink] Black cmyk was greater than 1. (${k})`);\n    console.warn('[Ink] Converting black value to 1.');\n    k = 1;\n  }else if(k>1){\n    k = 1; //allow some off-precision without warning\n  } //end if\n  return {r: 255*(1-c)*(1-k),g: 255*(1-m)*(1-k),b: 255*(1-y)*(1-k),a: 1};\n} //end getObjectFromCmyk()\n\nfunction getObjectFromHsl(colorString){\n  let [h,s,l] = colorString.replace(/(\\(|\\)|hsl)/g,'').split(',');\n\n  return getObjectFromHsla(`hsla(${h},${s},${l},1)`);\n} //end getObjectFromHsl()\n\nfunction getObjectFromShortHex(colorString){\n  if(colorString[0]!=='#'){\n    throw Error('[Ink] Invalid short hex format.');\n  } //end if\n  if(isNaN(parseInt(colorString.substr(1,3),16))){\n    throw Error('[Ink] Invalid characters in short hex color.');\n  } //end if\n  return {\n    r: parseInt(colorString.substr(1,1)+colorString.substr(1,1),16),\n    g: parseInt(colorString.substr(2,1)+colorString.substr(2,1),16),\n    b: parseInt(colorString.substr(3,1)+colorString.substr(3,1),16),\n    a: 1\n  };\n} //end getObjectFromShortHex()\n\nfunction getObjectFromLongHex(colorString){\n  if(colorString[0]!=='#'){\n    throw Error('[Ink] Invalid long hex format.');\n  } //end if\n  if(isNaN(parseInt(colorString.substr(1,6),16))){\n    throw Error('[Ink Invalid characters in long hex color.');\n  } //end if\n  return {\n    r: parseInt(colorString.substr(1,2),16),\n    g: parseInt(colorString.substr(3,2),16),\n    b: parseInt(colorString.substr(5,2),16),\n    a: 1\n  };\n} //end getObjectFromLongHex()\n\nfunction getRgbaFromObject(object){\n  return `rgba(${object.r},${object.g},${object.b},${object.a})`;\n} //end getRgbaFromObject()\n\nfunction getRgbFromObject(object){\n  return `rgb(${object.r},${object.g},${object.b})`;\n} //end getRgbFromObject()\n\nfunction getHsvaFromObject({r,g,b,a}){\n  r/=255;g/=255;b/=255; //eslint-disable-line no-param-reassign\n  let min = Math.min(r,g,b),\n      max = Math.max(r,g,b),\n      delta = max - min,\n      h,s,v = max;\n\n  if(max!==0){\n    s = delta / max;\n    if(r===max){\n      h = (g-b) / delta;\n    }else if(g===max){\n      h = 2+(b-4)/delta;\n    }else{\n      h=4+(r-g)/delta;\n    } //end if\n    h*=60;\n    if(h<0) h+= 360;\n    if(isNaN(h)) h = 0;\n  }else{\n    h = 0; s = 0; v = 0; //return\n  } //end if\n  return `hsva(${h},${s},${v},${a})`;\n} //end getHsvaFromObject()\n\nfunction getHsvFromObject(object){\n  let colorString =  getHsvaFromObject(object),\n      [h,s,v] = colorString.replace(/(\\(|\\)|hsva)/g,'').split(',');\n\n  return `hsv(${h},${s},${v})`;\n} //end getHsvFromObject()\n\nfunction getHsbaFromObject(object){\n  let colorString =  getHsvaFromObject(object),\n      [h,s,b,a] = colorString.replace(/(\\(|\\)|hsva)/g,'').split(',');\n\n  return `hsba(${h},${s},${b},${a})`;\n} //end getHsbaFromObject()\n\nfunction getHsbFromObject(object){\n  let colorString =  getHsvaFromObject(object),\n      [h,s,b] = colorString.replace(/(\\(|\\)|hsva)/g,'').split(',');\n\n  return `hsba(${h},${s},${b})`;\n} //end getHsbFromObject()\n\nfunction getCmykFromObject({r,g,b,a}){\n  r/=255;g/=255;b/=255; //eslint-disable-line no-param-reassign\n  let k = 1 - Math.max(r,g,b),\n      c = (1 - r - k)/(1-k),\n      m = (1 - g - k)/(1-k),\n      y = (1 - b - k)/(1-k);\n\n  return `cmyk(${c},${m},${y},${k})`;\n} //end getCmykFromObject()\n\nfunction getHslaFromObject({r,g,b,a}){\n  r/=255;g/=255;b/=255; //eslint-disable-line no-param-reassign\n  let max = Math.max(r,g,b),\n      min = Math.min(r,g,b),\n      delta = max-min,\n      h,s,l=(max+min)/2;\n\n  // make sure it's not achromatic (gray)\n  if(!delta){\n    h = s = 0;\n  }else{\n    s = delta/(1-Math.abs(2*l-1));\n    if(max===r){\n      h = 60*(((g-b)/delta)%6);\n    }else if(max===g){\n      h = 60*((b-r)/delta+2);\n    }else{ //max===b\n      h = 60*((r-g)/delta+4);\n    } //end if\n    if(h<0) h = 360+h;\n  } //end if\n  return `hsla(${h},${s},${l},${a})`;\n} //end getHslaFromObject()\n\nfunction getHslFromObject(object){\n  let colorString = getHslaFromObject(object),\n      [h,s,l] = colorString.replace(/(\\(|\\)|hsla)/g,'').split(',');\n\n  return `hsl(${h},${s},${l})`;\n} //end getHslFromObject()\n\nfunction getHexFromObject(object){\n  let r = object.r.toString(16).padStart(2,'0'),\n      g = object.g.toString(16).padStart(2,'0'),\n      b = object.b.toString(16).padStart(2,'0');\n\n  return `#${r}${g}${b}`;\n} //end getHexFromObject()\n\nexport function ink(colorString,{...options}={}){\n  let {r,g,b,a} = getColorObject(colorString);\n\n  // start with validation\n  if(isNaN(a)||typeof a !== 'number'){\n    throw Error('[Ink] Alpha value is not a valid number.');\n  } //end if\n  if(a<0){\n    console.warn(`[Ink] Alpha was less than 0. (${a})`);\n    console.warn('[Ink] Converting alpha to 0...');\n    a = 0;\n  } //end if\n  if(a>1.0001){\n    console.warn(`[Ink] Alpha was greater than 1. (${a})`);\n    console.warn('[Ink] Converting alpha to 1...');\n    a = 1;\n  }else if(a>1){\n    a = 1; //allow some off-precision without warning\n  } //end if\n  if(options.r&&typeof options.r !== 'number'||options.r&&isNaN(options.r)){\n    throw Error('[Ink] Red color weight is not a number.');\n  } //end if\n  if(options.r&&options.r<0){\n    throw Error('[Ink] Red color weight must be greater than 0.');\n  } //end if\n  if(options.g&&typeof options.g !== 'number'||options.g&&isNaN(options.g)){\n    throw Error('[Ink] Green color weight is not a number.');\n  } //end if\n  if(options.g&&options.g<0){\n    throw Error('[Ink] Green color weight must be greater than 0.');\n  } //end if\n  if(options.b&&typeof options.b !== 'number'||options.b&&isNaN(options.b)){\n    throw Error('[Ink] Blue color weight is not a number.');\n  } //end if\n  if(options.b&&options.b<0){\n    throw Error('[Ink] Blue color weight must be greater than 0.');\n  } //end if\n  if(options.l&&typeof options.l !== 'number'||options.l&&isNaN(options.l)){\n    throw Error('[Ink] Lightness weight is not a number.');\n  } //end if\n  if(options.s&&typeof options.s !== 'number'||options.s&&isNaN(options.s)){\n    throw Error('[Ink] Saturation weight is not a number.');\n  } //end if\n  if(options.r<0||options.g<0||options.b<0||options.r>1||options.g>1||options.b>1){\n    throw Error('[Ink] Color weights must be inclusively between 0 and 1.');\n  } //end if\n  if(options.a<0||options.a>1){\n    throw Error('[Ink] Color alpha must be inclusively between 0 and 1.');\n  } //end if\n  if(options.minLightness&&typeof options.minLightness !== 'number'){\n    throw Error('[Ink] Min lightness is not a number.');\n  }else if(options.minLightness&&isNaN(options.minLightness)){\n    throw Error('[Ink] Min lightness is not a number.');\n  } //end if\n  if(options.maxLightness&&typeof options.maxLightness !== 'number'){\n    throw Error('[Ink] Max lightness is not a number.');\n  }else if(options.maxLightness&&isNaN(options.maxLightness)){\n    throw Error('[Ink] Max lightness is not a number.');\n  } //end if\n  if(options.lightness&&typeof options.lightness !== 'number'){\n    throw Error('[Ink] lightness is not a number.');\n  }else if(options.lightness&&isNaN(options.lightness)){\n    throw Error('[Ink] lightness is not a number.');\n  } //end if\n  if(options.minSaturation&&typeof options.minSaturation !== 'number'){\n    throw Error('[Ink] Min saturation is not a number.');\n  }else if(options.minSaturation&&isNaN(options.minSaturation)){\n    throw Error('[Ink] Min saturation is not a number.');\n  } //end if\n  if(options.maxSaturation&&typeof options.maxSaturation !== 'number'){\n    throw Error('[Ink] Max saturation is not a number.');\n  }else if(options.maxSaturation&&isNaN(options.maxSaturation)){\n    throw Error('[Ink] Max saturation is not a number.');\n  } //end if\n  if(options.saturation&&typeof options.saturation !== 'number'){\n    throw Error('[Ink] Saturation is not a number.');\n  }else if(options.saturation&&isNaN(options.saturation)){\n    throw Error('[Ink] Saturation is not a number.');\n  } //end if\n  if(options.object&&typeof options.object !== 'boolean'){\n    throw Error('[Ink] Object output parameter value is not a boolean.');\n  } //end if\n  if(options.minSaturation>options.maxSaturation){\n    console.warn('[Ink] Min saturation must be smaller than max saturation.');\n    console.warn('[Ink] Switching min and max saturations...');\n    [options.minSaturation,options.maxSaturation] = [options.maxSaturation,options.minSaturation];\n  } //end if\n  if(options.minLightness>options.maxLightness){\n    console.warn('[Ink] Min lightness must be smaller than max lightness.');\n    console.warn('[Ink] Switching min and max lightness...');\n    [options.minLightness,options.maxLightness] = [options.maxLighntess,options.minLightness];\n  } //end if\n  if(options.minLightness&&options.lightness||options.maxLightness&&options.lightness){\n    console.warn('[Ink] Cannot have lightness setting and a threshold.');\n    console.warn('[Ink] Ignoring lightness threshold...');\n    delete options.minLightness;\n    delete options.maxLightness;\n  } //end if\n  if(options.minSaturation&&options.saturation||options.maxSaturation&&options.saturation){\n    console.warn('[Ink] Cannot have saturation setting and a threshold.');\n    console.warn('[Ink] Ignoring saturation threshold...');\n    delete options.minSaturation;\n    delete options.maxSaturation;\n  } //end if\n  if(options.maxLightness&&options.minLightness&&options.maxLightness-options.minLightness<0.01){\n    console.warn('[Ink] Max and min lightness threshold too close.');\n    console.warn('[Ink] Removing lightness threshold and using hard setting...');\n    options.lightness = options.minLightness;\n    delete options.minLightness;\n    delete options.maxLightness;\n  } //end if\n  if(options.minSaturation&&options.maxSaturation&&options.maxSaturation-options.minSaturation<0.01){\n    console.warn('[Ink] Max and min saturation threshold too close.');\n    console.warn('[Ink] Removing saturation threshold and using hard setting...');\n    options.saturation = options.minSaturation;\n    delete options.minSaturation;\n    delete options.maxSaturation;\n  } //end if\n\n  if(options.r){\n    r = Math.floor(options.r*r);\n    if(r>255) r = 255;\n  } //end if\n  if(options.g){\n    g = Math.floor(options.g*g);\n    if(g>255) g = 255;\n  } //end if\n  if(options.b){\n    b = Math.floor(options.b*b);\n    if(b>255) b = 255;\n  } //end if\n  if(options.a) a = options.a;\n  if(options.l){\n    let [h,s,l] = getHslFromObject({r,g,b}).replace(/(\\(|\\)|hsl)/g,'').split(',');\n\n    l=+l; //convert to number\n    l+=options.l;\n    ({r,g,b} = getObjectFromHsl(`hsl(${h},${s},${l})`));\n  } //end if\n  if(options.s){\n    let [h,s,l] = getHslFromObject({r,g,b}).replace(/(\\(|\\)|hsl)/g,'').split(',');\n\n    s=+s; //convert to number\n    s+=+options.s;\n    ({r,g,b} = getObjectFromHsl(`hsl(${h},${s},${l})`));\n  } //end if\n  if(options.minLightness||options.maxLightness||options.lightness){\n    let [h,s,l] = getHslFromObject({r,g,b}).replace(/(\\(|\\)|hsl)/g,'').split(',');\n\n    if(options.minLightness&&l<options.minLightness) l = options.minLightness;\n    if(options.maxLightness&&l>options.maxLightness) l = options.maxLightness;\n    if(options.lightness&&+l!==options.lightness) l = options.lightness;\n    ({r,g,b} = getObjectFromHsl(`hsl(${h},${s},${l})`));\n  } //end if\n  if(options.minSaturation||options.maxSaturation||options.saturation){\n    let [h,s,l] = getHslFromObject({r,g,b}).replace(/(\\(|\\)|hsl)/g,'').split(',');\n\n    if(options.minSaturation&&s<options.minSaturation) s = options.minSaturation;\n    if(options.maxSaturation&&s>options.maxSaturation) s = options.maxSaturation;\n    if(options.saturation&&+s!==options.saturation) s = options.saturation;\n    ({r,g,b} = getObjectFromHsl(`hsl(${h},${s},${l})`));\n  } //end if\n  r = Math.round(r);\n  g = Math.round(g);\n  b = Math.round(b);\n  a = a.toFixed(3);\n\n  // now we'll acquire the result\n  let result;\n\n  if(options.format&&options.format==='object'){\n    result = {r,g,b,a};\n  }else if(options.format&&options.format==='hex'){\n    result = getHexFromObject({r,g,b});\n  }else if(options.format&&options.format==='hsl'){\n    result = getHslFromObject({r,g,b});\n  }else if(options.format&&options.format==='hsla'){\n    result = getHslaFromObject({r,g,b,a});\n  }else if(options.format&&options.format==='hsv'){\n    result = getHsvFromObject({r,g,b});\n  }else if(options.format&&options.format==='hsva'){\n    result = getHsvaFromObject({r,g,b,a});\n  }else if(options.format&&options.format==='hsb'){\n    result = getHsbFromObject({r,g,b});\n  }else if(options.format&&options.format==='hsba'){\n    result = getHsbaFromObject({r,g,b,a});\n  }else if(options.format&&options.format==='rgb'){\n    result = getRgbFromObject({r,g,b});\n  }else if(options.format&&options.format==='cmyk'){\n    result = getCmykFromObject({r,g,b});\n  }else{ //rgba\n    result = getRgbaFromObject({r,g,b,a});\n  } //end if\n  return result;\n} //end ink()\n\nexport function convert2rgba(colorString){\n  return getRgbaFromObject(getColorObject(colorString));\n} //end convert2rgba()\n\nexport function convert2rgb(colorString){\n  return getRgbFromObject(getColorObject(colorString));\n} //end convert2rgb()\n\nexport function convert2hsba(colorString){\n  return getHsbaFromObject(getColorObject(colorString));\n} //end convert2hsba()\n\nexport function convert2hsva(colorString){\n  return getHsvaFromObject(getColorObject(colorString));\n} //end convert2hsva()\n\nexport function convert2hsb(colorString){\n  return getHsbFromObject(getColorObject(colorString));\n} //end convert2hsb()\n\nexport function convert2hsv(colorString){\n  return getHsvFromObject(getColorObject(colorString));\n} //end convert2hsv()\n\nexport function convert2hsla(colorString){\n  return getHslaFromObject(getColorObject(colorString));\n} //end convert2hsla()\n\nexport function convert2hsl(colorString){\n  return getHslFromObject(getColorObject(colorString));\n} //end convert2hsl()\n\nexport function convert2hex(colorString){\n  return getHexFromObject(getColorObject(colorString));\n} //end convert2hex()\n\nexport function convert2cmyk(colorString){\n  return getCmykFromObject(getColorObject(colorString));\n} //end convert2cmyk()\n\n","export class Ion{\n  constructor(easel){\n    this.easel = easel;\n    this.ctx = easel.ctx;\n    this.viewport = easel.viewport;\n    this.collection = [];\n    this.quantity = 1;\n    this.size = 1;\n    this.startX = 0;\n    this.startY = 0;\n    this.endX = 1;\n    this.endY = 1;\n    this.windX = 0;\n    this.windY = 0;\n    this.color = '#48F';\n    this.clearColor = '#000';\n    this.tweenType = 0;\n    this.tweenCurrent = 0;\n    this.tweenDuration = 1000;\n    this.tweenSpeed = 1;\n    this.background = null; //if set, will re-apply before each frame\n    if(!this.ctx){\n      console.warn('Ion initialized without canvas context.');\n    } //end if\n    if(!this.viewport){\n      console.warn('Ion initialized without viewport variable.');\n    } //end if\n  }\n\n  // Ease is a tweening function using Robert Penner's equations to identify\n  // the values of an axis in respect to it's start location, destination,\n  // and the normalization of the transition between the two with respect to\n  // starting time, a given duration, and the function to impose upon the\n  // transition from that start position to it's destination.\n  tween(particle,axis,optionalOrientation,optionalType,optionalTime){\n    let result, //returns the current x or y location\n        t = optionalTime||particle.tweenCurrent,\n        d = particle.tweenDuration,\n        o = optionalOrientation||0.3, //modification orientation strength\n        type = optionalType||particle.tweenType,\n        b,c; //beginning position and change in position\n\n    if(axis==='x'){\n      b = particle.startX;\n      c = particle.endX-particle.startX;\n    }else{\n      b = particle.startY;\n      c = particle.endY-particle.startY;\n    } //end if\n    if(type===0||type==='linear'){\n      result = c*t/d+b;\n    }else if(type===1||type==='ease-in-quad'){\n      result = c*(t/=d)*t+b;\n    }else if(type===2||type==='ease-out-quad'){\n      result = -c*(t/=d)*(t-2)+b;\n    }else if(type===3||type==='ease-in-out-quad'){\n      result = (t/=d/2)<1?c/2*t*t+b:-c/2*((--t)*(t-2)-1)+b;\n    }else if(type===4||type==='ease-in-cubic'){\n      result = c*(t/=d)*t*t+b;\n    }else if(type===5||type==='ease-out-cubic'){\n      result = c*((t=t/d-1)*t*t+1)+b;\n    }else if(type===6||type==='ease-in-out-cubic'){\n      result = ((t/=d/2)<1)?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b;\n    }else if(type===7||type==='ease-in-quart'){\n      result = c*(t/=d)*t*t*t+b;\n    }else if(type===8||type==='ease-out-quart'){\n      result = -c*((t=t/d-1)*t*t*t-1)+b;\n    }else if(type===9||type==='ease-in-out-quart'){\n      result = ((t/=d/2)<1)?c/2*t*t*t*t+b:-c/2*((t-=2)*t*t*t-2)+b;\n    }else if(type===10||type==='ease-in-quint'){\n      result = c*(t/=d)*t*t*t*t+b;\n    }else if(type===11||type==='ease-out-quint'){\n      result = c*((t=t/d-1)*t*t*t*t+1)+b;\n    }else if(type===12||type==='ease-in-out-quint'){\n      result = ((t/=d/2)<1)?c/2*t*t*t*t*t+b:c/2*((t-=2)*t*t*t*t+2)+b;\n    }else if(type===13||type==='ease-in-sine'){\n      result = -c*Math.cos(t/d*(Math.PI/2))+c+b;\n    }else if(type===14||type==='ease-out-sine'){\n      result = -c/2*(Math.cos(Math.PI*t/d)-1)+b;\n    }else if(type===15||type==='ease-in-exponential'){\n      result = (t===0)?b:c*Math.pow(2,10*(t/d-1))+b;\n    }else if(type===16||type==='ease-out-exponential'){\n      result = (t===d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;\n    }else if(type===17||type==='ease-in-out-exponential'){\n      if(t===0){\n        result = b;\n      }else if(t===d){\n        result = b+c;\n      }else if((t/=d/2)<1){\n        result = c/2*Math.pow(2,10*(t-1))+b;\n      }else{\n        result = c/2*(Math.pow(2,-10*--t)+2)+b;\n      } //end if\n    }else if(type===18||type==='ease-in-circular'){\n      result = -c*(Math.sqrt(1-(t/=d)*t)-1)+b;\n    }else if(type===19||type==='ease-out-circular'){\n      result = c*Math.sqrt(1-(t=t/d-1)*t)+b;\n    }else if(type===20||type==='ease-in-out-circular'){\n      result = ((t/=d/2)<1)?-c/2*(Math.sqrt(1-t*t)-1)+b:c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;\n    }else if(type===21||type==='ease-in-elastic-loose'){\n      result = this.tween(particle,axis,0.5,'ease-in-elastic-normal');\n    }else if(type===22||type==='ease-in-elastic-normal'){\n      result = (()=>{\n        var s=1.70158,p=0,a=c;\n\n        if(t===0) return b;\n        if((t/=d)===1) return b+c;\n        if(!p) p=d*o;\n        if(a < Math.abs(c+0.1)){\n          a=c;s=p/4;\n        }else{\n          s = p/(2*Math.PI) * Math.asin(c/a);\n        } //end if\n        return -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n      })();\n    }else if(type===23||type==='ease-in-elastic-string'){\n      result = this.tween(particle,axis,0.1,'ease-in-elastic-normal');\n    }else if(type===24||type==='ease-out-elastic-loose'){\n      result = this.tween(particle,axis,0.5,'ease-out-elastic-normal');\n    }else if(type===25||type==='ease-out-elastic-normal'){\n      result = (()=>{\n        var s=1.70158,p=0,a=c;\n\n        if (t===0) return b;\n        if ((t/=d)===1) return b+c;\n        if (!p) p=d*o;\n        if(a < Math.abs(c+0.1)){\n          a=c;s=p/4;\n        }else{\n          s = p/(2*Math.PI) * Math.asin(c/a);\n        } //end if\n        return a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\n      })();\n    }else if(type===26||type==='ease-out-elastic-strong'){\n      result = this.tween(particle,axis,0.1,'ease-out-elastic-normal');\n    }else if(type===27||type==='ease-in-out-elastic-loose'){\n      result = this.tween(particle,axis,0.5,'ease-in-out-elastic-normal');\n    }else if(type===28||type==='ease-in-out-elastic-normal'){\n      result = (()=>{\n        var s=1.70158,p=0,a=c;\n\n        if(t===0) return b;\n        if((t/=d/2)===2) return b+c;\n        if(!p) p=d*(o*1.5);\n        if(a < Math.abs(c+0.1)){\n          a=c;s=p/4;\n        }else{\n          s = p/(2*Math.PI) * Math.asin(c/a);\n        } //end if\n        if (t < 1) return -0.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n        return a*Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*0.5 + c + b;\n      })();\n    }else if(type===29||type==='ease-in-out-elastic-strong'){\n      result = this.tween(particle,axis,0.1,'ease-in-out-elastic-normal');\n    }else if(type===30||type==='ease-in-back'){\n      result = c*(t/=d)*t*((1.70158+1)*t - 1.70158) + b;\n    }else if(type===31||type==='ease-out-back'){\n      result = c*((t=t/d-1)*t*((1.70158+1)*t + 1.70158) + 1) + b;\n    }else if(type===32||type==='ease-in-out-back'){\n      let s = 1.70158;\n\n      if((t/=d/2)<1){\n        result = c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\n      }else{\n        result = c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\n      } //end if\n    }else if(type===33||type==='ease-in-bounce'){\n      result = c-this.tween(particle,axis,0,'ease-out-bounce')+b;\n    }else if(type===34||type==='ease-out-bounce'){\n      if ((t/=d) < (1/2.75)) {\n        result = c*(7.5625*t*t) + b;\n      } else if (t < (2/2.75)) {\n        result = c*(7.5625*(t-=(1.5/2.75))*t + 0.75) + b;\n      } else if (t < (2.5/2.75)) {\n        result = c*(7.5625*(t-=(2.25/2.75))*t + 0.9375) + b;\n      } else {\n        result = c*(7.5625*(t-=(2.625/2.75))*t + 0.984375) + b;\n      } //end if\n    }else if(type===35||type==='ease-in-out-bounce'){\n      if(t<d/2){\n        result = this.tween(particle,axis,0,'ease-in-bounce',t*2)*0.5+b;\n      }else{\n        result = this.tween(particle,axis,0,'ease-out-bounce',t*2-d)*0.5+c*0.5+b;\n      } //end if\n    }//end if\n    return result;\n  }\n\n  // getNew will create a new particle and return that result. It's possible\n  // to override the function to develop a custom particle generator for more\n  // specific applications.\n  getNew(id){\n    let sx = typeof this.startX==='function'?this.startX():this.startX,\n        sy = typeof this.startY==='function'?this.startY():this.startY,\n        dx = typeof this.endX==='function'?this.endX(sx):this.endX,\n        dy = typeof this.endY==='function'?this.endY(sy):this.endY,\n        ttc = this.tweenCurrent, //shorten reference\n        c = typeof ttc==='function'?ttc():ttc,\n        ttd = this.tweenDuration, //shorten reference\n        d = typeof ttd==='function'?ttd():ttd,\n        tt = typeof this.tweenType==='function'?this.tweenType():this.tweenType,\n        s = typeof this.size==='function'?this.size():this.size,\n        image = typeof this.image==='function'?this.image(id):this.image,\n        color = typeof this.color==='function'?this.color(id):this.color,\n        particle = {};\n\n    this.onCreate(); //even fired as a new particle is created\n    particle.id = id; //for referencing each particle outside library\n    particle.startX = sx;\n    particle.startY = sy;\n    particle.originX = particle.startX;\n    particle.originY = particle.startY;\n    particle.x = sx;\n    particle.y = sy;\n    particle.endX = dx;\n    particle.endY = dy;\n    particle.terminalX = particle.endX; //original destiation x\n    particle.terminalY = particle.endY; //original destination y\n    particle.tweenCurrent = c;\n    particle.tweenDuration = d;\n    particle.tweenType = tt;\n    particle.onEnd = this.onParticleEnd;\n    particle.size = s; //the particle size\n    particle.windX = this.windX||0; //wind functions are ran at runtime\n    particle.windY = this.windY||0; //wind function are ran at runtime\n    particle.color = color; //each particle can be rendered with a diff color\n    particle.image = image; //can be an image or a bit-array\n    particle.imageWidth = this.imageWidth; //width in pixels\n    particle.imageHeight = this.imageHeight; //height in pixels\n    return particle;\n  }\n\n  // Reset will perform a small number of operations to reset a particle back\n  // to its starting state instead of actually generating a new particle. This\n  // can be helpful if you want to retain it's original starting location.\n  reset(particle){\n    particle.x = particle.startX = particle.originX;\n    particle.y = particle.startY = particle.originY;\n    particle.endX = particle.terminalX; //wind may have corrupted endX\n    particle.endY = particle.terminalY; //wind may have corrupted endY\n    particle.tweenCurrent = 0;\n  }\n\n  // Reevaluate will instead of reseting the particle, reevaluate the starting\n  // conditions of the particle; that is, it may only reset if the starting\n  // conditions aren't functions\n  reevaluate(particle){\n    let startX = typeof this.startX==='function'?this.startX():this.startX,\n        startY = typeof this.startY==='function'?this.startY():this.startY,\n        endX = typeof this.endX==='function'?this.endX():this.endX,\n        endY = typeof this.endY==='function'?this.endY():this.endY;\n\n    particle.x = particle.originX = particle.startX = startX;\n    particle.y = particle.originY = particle.startY = startY;\n    particle.endX = particle.terminalX = endX;\n    particle.endY = particle.terminalY = endY;\n    particle.tweenCurrent = 0;\n  }\n\n  // Populate pushes a new particle into the particles array then checks to see\n  // if the specified particle number has been reached, if it hasn't, then it\n  // queues up itself asynchronously to create another particle. This recursive\n  // action continues until the total particle quantity is reached.\n  populate(wait){\n    if(!wait){\n      this.collection = Array.from(new Array(this.quantity),(ignore,index)=>{\n        return this.getNew(index);\n      });\n    }else{\n      this.collection.push(this.getNew(this.collection.length));\n      if(this.collection.length<this.quantity){\n        if(typeof wait === 'function'){\n          setTimeout(()=> this.populate(wait),wait());\n        }else if(typeof wait === 'number'){\n          setTimeout(()=> this.populate(wait),wait);\n        }else{ //assume its boolean or invalid and allow generic wait\n          setTimeout(()=> this.populate(),1);\n        }//end if\n      } //end if\n    } //end if\n  }\n\n  // Wind applies noise values on the movement patterns of the particles\n  // instead of them performing their tweening operations unhindered. This\n  // gives a more dynamic feel to their movement. The wind patterns and\n  // function can be overridden to be dynamic or conditional as desired.\n  wind(particle){\n    if(typeof particle.windX === 'function'){\n      particle.endX += particle.windX(particle);\n    }else if(particle.windX){\n      particle.endX += particle.windX;\n    } //end if\n    if(typeof particle.windY === 'function'){\n      particle.endY += particle.windY(particle);\n    }else if(particle.windY){\n      particle.endY += particle.windY;\n    } //end if\n    if(typeof particle.windX === 'function'){\n      particle.startX += particle.windX(particle);\n    }else if(particle.windX){\n      particle.startX += particle.windX;\n    } //end if\n    if(typeof particle.windY === 'function'){\n      particle.startY += particle.windY(particle);\n    }else if(particle.windY){\n      particle.startY += particle.windY;\n    } //end if\n  }\n\n  // OnMove function is called right before a particle is moved\n  onMove(particle){}\n\n  // Draw simply draws a particle\n  draw(particle,isClear){\n    let p = particle,\n        image = p.image,\n        s = p.size||1; //fallback of one if they made it custom & ignored\n\n    if(isClear){\n      this.ctx.fillStyle = this.clearColor;\n    }else{\n      this.ctx.fillStyle = particle.color;\n    } //end if\n    if(image && image instanceof Array && image.length){\n      let scaleX = p.imageWidth/image[0].length,\n          scaleY = p.imageHeight/image.length;\n\n      image.forEach((yo,y)=>{\n        yo.forEach((xo,x)=>{\n          if(isClear&&xo){\n            this.ctx.fillRect(p.x+x*scaleX-1,p.y+y*scaleY-1,s*scaleX+1,s*scaleY+1);\n          }else if(xo){\n            this.ctx.fillRect(p.x+x*scaleX,p.y+y*scaleY,s*scaleX,s*scaleY);\n          } //end if\n        });\n      });\n    }else if(image){ //image was passed, use it instead of a pixel particle\n      let px = p.x-p.imageWidth/2,\n          py = p.y-p.imageHeight/2;\n\n      if(p.imageWidth && p.imageHeight){ //sizes given for constrain\n        this.ctx.drawImage(image,px,py,p.imageWidth,p.imageHeight);\n      }else{ //no sizes given, just allow it to fill with images normal size\n        this.ctx.drawImage(image,px,py);\n      } //end if\n    }else{\n      this.ctx.fillRect(p.x,p.y,s,s);\n    } //end if\n  }\n\n  // Clear simply clears a particle\n  clear(particle){\n    this.draw(particle,true);\n  }\n\n  // OnCreate function is called when a particle is created for the first\n  // time. This allows one to keep track of how far into the creation of all\n  // the particles one is given the particle total that they already control.\n  onCreate(){}\n\n  // OnParticleEnd function is called after a particle finishes its tweening\n  // motion. This is merely a template function that is required to be\n  // overridden.\n  onParticleEnd(){}\n\n  // OnEscape function is called after a particle leaves the view space.\n  // This is merely a template function that is required to be overridden.\n  onEscape(){}\n\n  // Process is the automatic function that calls the getFrame main\n  // function and after updating, queues the next update frame. It will\n  // also auto-clear. This function is mostly used for testing a single\n  // Ion instance. Most mock-ups of Ion should be done using the getFrame\n  process(){\n    this.clearFrame();\n    this.getFrame();\n    this.afterDraw();\n    if(this.tweenSpeed===1){\n      requestAnimationFrame(()=>this.process());\n    }else{\n      setTimeout(()=>this.process(),this.tweenSpeed);\n    } //end if\n  }\n\n  // afterDraw function is called after an entire frame has finished rendering\n  afterDraw(){}\n\n  // this clears everything on the screen\n  clearFrame(){\n    if(this.background){\n      this.ctx.putImageData(this.background,0,0);\n    }else{\n      this.ctx.fillStyle=this.clearColor;\n      this.ctx.fillRect(0,0,this.viewport.width,this.viewport.height);\n    } //end if\n  }\n\n  // getFrame is what operates on the tweening functions for the particles,\n  // it calls the draw function for each particle after its operations\n  getFrame(){\n    this.collection.forEach(p=>{\n      if(p.imageClear) this.clear(p);\n      this.wind(p);\n      this.onMove(p);\n      if(p.x<0||p.y<0||p.x>this.viewport.width||p.y>this.viewport.height){\n        this.onEscape(p);\n      } //end if\n      if((p.x|0)!==(p.endX|0)) p.x=this.tween(p,'x');\n      if((p.y|0)!==(p.endY|0)) p.y=this.tween(p,'y');\n      p.tweenCurrent++;\n      if(p.tweenCurrent===p.tweenDuration&&p.onEnd)p.onEnd.call(this,p);\n      this.draw(p);\n    });\n  }\n} //end class Ion\nexport default {Ion};\n\n","import * as clouds from './clouds/';\n\n// Ion Cloud is a library of ion preconfigured clouds. These help in creating\n// particle effects common in many applications\nexport class IonCloud{\n  constructor(){\n    this.camera = {\n      x:v.w/2,\n      y:v.h/2,\n      dx:0, //direction x\n      dy:0 //direction y\n    };\n    this.collection=[];\n    this.beforeDraw={};\n    this.clouds = clouds;\n    this.state = 'initial';\n  }\n  animate(type){\n    if(typeof type === 'string'){\n      this.collection.push(this.clouds[type].apply(this,arguments));\n    }else{\n      this.collection.push(type.apply(this,arguments));\n    } //end if\n  }\n  makeState(state,beforeDraw){\n    this.beforeDraw[state]=beforeDraw; //mapper\n  }\n  clearScene(){\n    ctx.fillStyle='#000';\n    ctx.fillRect(0,0,v.w,v.h);\n  }\n  draw(){\n    this.clearScene();\n    if(this.beforeDraw[this.state]) this.beforeDraw[this.state]();\n    this.collection.forEach((animation,index,collection)=>{\n      if(animation.states.includes(this.state)){ //only render if its in current state\n        if(animation.finished){\n          if(typeof animation.onFinished === 'function') animation.onFinished();\n          collection.splice(index,1);\n        }else{\n          animation.getFrame();\n        } //end if\n      } //end if\n    });\n    requestAnimationFrame(()=> this.draw());\n  }\n}\n","export class Phaser{\n  constructor(interval,phase,color,context,properties,makeGradient){\n    this.interval = interval || 100; //ms time it takes to iterate through a phase\n    this.frame = this.interval; //current interval phase of the phaser\n    this.phase = phase; //current literal phase iteration\n    this.context = context; //context of the canvas\n    this.properties = properties; //()=> [x,y,width,height]\n    this.makeGradient = makeGradient; //()=> ctx.createLinearGradient(0,0,0,v.h/5*4)\n    this.color = color; //An array holding color stops\n    this.colorD = []; //Computed color difference to help iteration computation\n    this.err = 0; //holds the number of errors that occurred on construction\n    if(!makeGradient) console.error(`Error ${++this.err}: Gradient missing.`);\n    if(!context) console.error(`Error ${++this.err}: Context missing.`);\n    if(!properties) console.error(`Error ${++this.err}: Properties missing.`);\n    if(!this.err) this.initialize();\n  }\n  initialize(){\n    var cd, //color difference computed per phase, not per color stop\n        cc, //current color - used to compute the difference from initial color\n        fc, //first color - the initial color object\n        phase, //Helps distinguish when to acquire first color or color diff\n        firstName; //the first color phase name\n\n    this.color.forEach((colorStop,i)=>{\n      cd = {}; cc = {r:0,g:0,b:0}; phase=0; fc=0; //reset per color stop\n      Object.keys(colorStop).forEach(key=>{\n        let c = colorStop[key], //shorten the phase color name\n            nc = {r:c.r-cc.r,g:c.g-cc.g,b:c.b-cc.b}; //new color computed\n\n        // On first iteration acquire the new color by\n        // subtracting the current color from the original\n        // color. Otherwise set the color difference\n        if(phase===1){ //we skip phase 0 which is current (not an actual phase)\n          fc=nc; //this is the first phase, give it the new color\n          firstName=key; //set the first color phase name\n        }else if(phase>1){\n          cd[key]=nc;\n        } //end if\n        phase++;\n        cc={r:c.r,g:c.g,b:c.b};\n        if(key===this.phase) {\n          let cur=this.color[i].current;\n\n          cur.r=cc.r;cur.g=cc.g;cur.b=cc.b;\n        } //end if\n      });\n\n      // Set the color difference\n      cd[firstName]={\n        r:fc.r-cc.r,\n        g:fc.g-cc.g,\n        b:fc.b-cc.b\n      };\n      this.colorD.push(cd);\n    });\n  }\n  getNextPhase(){\n    var found=0, // this flag indicates that we found the current phase\n        newPhase='', key; //newPhase is the return obj\n\n    // loop through the keys to find the designated key by first finding the\n    // current one, if it doesn't find the next phase it's because it was on\n    // the last phase of the list - it'll catch it in the next block\n    for(key in this.color[0]){\n      if(found){ newPhase=key; break; }\n      if(key===this.phase) found=1;\n    } //end for\n\n    // If the newPhase isn't set, that's because we were on the last phase\n    // previously, in order to loop around we have to grab the first key.\n    if(newPhase.length===0){\n      for(key in this.color[0]){\n        if(key!=='current'){ newPhase = key; break; }\n      } //end for\n    } //end for\n\n    // Set the current object colors to the next phase before returning the\n    // new phase name\n    this.color.forEach((colorStop,i)=>{\n      colorStop.current.r=colorStop[this.phase].r;\n      colorStop.current.g=colorStop[this.phase].g;\n      colorStop.current.b=colorStop[this.phase].b;\n    });\n\n    // Now return the new phase that we found in the first or second block\n    return newPhase;\n  }\n  drawNext(redraw){\n    var grd=this.makeGradient(); // Acquire the create gradient function\n\n    // Iterate through each colorstop and add it to the gradient\n    this.color.forEach((colorStop,i)=>{\n      let c = colorStop.current;\n\n      grd.addColorStop(i,'rgb('+(c.r|0)+','+(c.g|0)+','+(c.b|0)+')');\n    });\n\n    // Set the fill style to the gradient that was created and display it\n    this.context.fillStyle=grd;\n    this.context.fillRect.apply(this.context,this.properties());\n\n    // If we've reached our interval limitation, then we need to transition\n    // into the next phase\n    if(this.frame===this.interval){\n      this.frame=-1;\n      this.phase=this.getNextPhase();\n    } //end if\n\n    // Increment the next colors after the frame was displayed so we have less\n    // of a delay in processing\n    this.color.forEach((colorStop,i)=>{\n      let c1 = colorStop.current, //the current color being displayed\n          c2 = this.colorD[i][this.phase]; //the color diff of the phase\n\n      c1.r+=c2.r/this.interval;\n      c1.g+=c2.g/this.interval;\n      c1.b+=c2.b/this.interval;\n    });\n\n    //increment the frame to the next interval\n    this.frame++;\n  }\n}\n"],"sourceRoot":""}